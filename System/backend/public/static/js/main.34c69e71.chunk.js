(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{101:function(e,a,n){e.exports={container:"Agreement_container__H6mD8",block:"Agreement_block__14ewg",alignCenter:"Agreement_alignCenter___P7Nz",avatar:"Agreement_avatar__2Xe_Y",buttons:"Agreement_buttons__Xtafw",agreements:"Agreement_agreements__3_JUR"}},118:function(e,a,n){e.exports={container:"ReportPracticeModal_container__6wBTc",content:"ReportPracticeModal_content__3CQcp",fromToWrapper:"ReportPracticeModal_fromToWrapper__2qRPw",firmName:"ReportPracticeModal_firmName__1gkbU",inputGroup:"ReportPracticeModal_inputGroup__13I7J",errors:"ReportPracticeModal_errors__3PYZL"}},119:function(e,a,n){e.exports={backdrop:"Modal_backdrop__11LlO",modal:"Modal_modal__3GwDb",content:"Modal_content__1IJDL",header:"Modal_header__1iwt3",footer:"Modal_footer__jsMCp"}},120:function(e,a,n){e.exports={container:"EditAnnouncementModal_container__L55AA",content:"EditAnnouncementModal_content__16XH5",fromToWrapper:"EditAnnouncementModal_fromToWrapper__3mnCq",firmName:"EditAnnouncementModal_firmName__2vXx9",inputGroup:"EditAnnouncementModal_inputGroup__1pqDC",errors:"EditAnnouncementModal_errors__Q5fKO"}},121:function(e,a,n){e.exports={container:"AddAnnouncementModal_container__1loDP",content:"AddAnnouncementModal_content__1wLGT",fromToWrapper:"AddAnnouncementModal_fromToWrapper__HEBO7",firmName:"AddAnnouncementModal_firmName__1uQkd",inputGroup:"AddAnnouncementModal_inputGroup__2VK7n",errors:"AddAnnouncementModal_errors__YaYSS"}},122:function(e,a,n){e.exports={container:"Navbar_container__2IM_w",menu:"Navbar_menu__GtI4D",logo:"Navbar_logo__3gt0f",user:"Navbar_user__2Eim7"}},123:function(e,a,n){e.exports={outerContainer:"Invitation_outerContainer__3ACFM",container:"Invitation_container__G4WUd",content:"Invitation_content__4aM9F",header:"Invitation_header__IfbCd",footer:"Invitation_footer__2k2vs"}},139:function(e,a,n){e.exports={container:"Page_container__6IDSy",title:"Page_title__378_l",header:"Page_header__2eHIW"}},140:function(e,a,n){e.exports={container:"Announcement_container__1kU6B",buttons:"Announcement_buttons__3zy-e",header:"Announcement_header__3GMnM",companyAvatar:"Announcement_companyAvatar__1uEe3"}},141:function(e,a,n){e.exports={tabs:"AgreementPage_tabs__9mkXS",yearPicker:"AgreementPage_yearPicker__2Xh9O"}},142:function(e,a,n){e.exports={container:"AddUserModal_container__2NwFs",inputGroup:"AddUserModal_inputGroup__Gf-Ru",errors:"AddUserModal_errors__1hhI5"}},143:function(e,a,n){e.exports={tabs:"AgreementPage_tabs__2BwI2",yearPicker:"AgreementPage_yearPicker__1WXuN"}},144:function(e,a,n){e.exports={outerContainer:"Statement_outerContainer__3TjUM",container:"Statement_container__13bhY",content:"Statement_content__7kz-o",header:"Statement_header__1jIEw",spinner:"Statement_spinner__pne8D"}},175:function(e,a,n){e.exports={container:"Input_container__11f5q",labelOnTop:"Input_labelOnTop__eE9qr",bright:"Input_bright__1FIfV"}},176:function(e,a,n){e.exports={container:"Select_container__GqU-k",labelOnTop:"Select_labelOnTop__1EdET",bright:"Select_bright__2XTGK"}},177:function(e,a,n){e.exports={container:"LoadingSpinner_container___ZcJ2",spinner:"LoadingSpinner_spinner__3Eqmb"}},178:function(e,a,n){e.exports={container:"Journal_container__3Fatq",fileHandler:"Journal_fileHandler__3B3O5",wrapper:"Journal_wrapper__1whwk"}},179:function(e,a,n){e.exports={container:"Textarea_container__3Lepg",labelOnTop:"Textarea_labelOnTop__ofXZv",bright:"Textarea_bright__1co0w"}},180:function(e,a,n){e.exports={tabs:"UsersPage_tabs__1TKsc",yearPicker:"UsersPage_yearPicker__3jCn1"}},216:function(e,a,n){e.exports={container:"NotFound_container__1vkuv",content:"NotFound_content__24FdK"}},217:function(e,a,n){e.exports={tab:"Tabs_tab__uaiMj"}},218:function(e,a,n){e.exports={tabs:"AnnouncementPage_tabs__1z4wy"}},219:function(e,a,n){e.exports={container:"Student_container__3qHts",avatar:"Student_avatar__268K4"}},220:function(e,a,n){e.exports={container:"Student_container__1nRE4",avatar:"Student_avatar__2rYJy"}},332:function(e,a,n){e.exports={container:"Container_container__1beqY"}},334:function(e,a,n){e.exports={companyAvatar:"CompanyAvatar_companyAvatar__3lKtn"}},336:function(e,a,n){e.exports={text:"ConfirmModal_text__9E1Ge"}},337:function(e,a,n){e.exports={search:"SearchInput_search__3BzOB"}},338:function(e,a,n){e.exports={yearPicker:"YearPicker_yearPicker__1oUpY"}},339:function(e,a,n){e.exports={studentsList:"Students_studentsList__2rumC"}},340:function(e,a,n){e.exports={companiesList:"Companies_companiesList__5p0Na"}},341:function(e,a,n){e.exports={tabs:"AnnouncementPage_tabs__ISK7w"}},354:function(e,a,n){e.exports=n(575)},370:function(e,a){},372:function(e,a){},385:function(e,a){},387:function(e,a){},415:function(e,a){},416:function(e,a){},421:function(e,a){},423:function(e,a){},430:function(e,a){},449:function(e,a){},559:function(e,a,n){e.exports={content:"MyPractice_content__2gVhO",fromToWrapper:"MyPractice_fromToWrapper__1CrN4",firmName:"MyPractice_firmName__17kgy"}},564:function(e,a,n){},566:function(e,a,n){},567:function(e,a,n){},568:function(e,a,n){e.exports=n.p+"static/media/Background.31625b92.jpg"},575:function(e,a,n){"use strict";n.r(a);var t=n(0),r=n.n(t),l=n(22),c=n.n(l),o=n(8),i=n(329),m=n(82),s=n(20),u=n(343),d=(n(366),n(33)),p=n(37),f=n(21),b=n.n(f),E=n(41),v=n(3),_=n(54),g=n(70),h=n.n(g),y=n(623),O=n(94),j=n.n(O),w=n(175),k=n.n(w),z=n(9),S=function(e){var a=e.type,n=e.id,t=e.name,l=e.onChange,c=e.inputRef,o=e.value,i=e.label,m=e.className,s=e.labelOnTop,u=e.bright,d=e.placeholder,p=e.defaultValue;return r.a.createElement("div",{className:Object(z.a)(k.a.container,m,s&&k.a.labelOnTop)},i&&r.a.createElement("label",{className:Object(z.a)(u&&k.a.bright)},i),r.a.createElement("input",{placeholder:d,type:a,id:n,name:t,onChange:l,ref:c,value:o,defaultValue:p}))},N=n(176),C=n.n(N),$=function(e){var a=e.id,n=e.name,t=e.onChange,l=e.inputRef,c=e.value,o=e.label,i=e.className,m=e.options,s=e.labelOnTop,u=e.bright;return r.a.createElement("div",{className:Object(z.a)(C.a.container,i,s&&C.a.labelOnTop)},o&&r.a.createElement("label",{className:Object(z.a)(u&&C.a.bright)},o),r.a.createElement("select",{id:a,name:n,onChange:t,ref:l,value:c},m.map((function(e){var a=e.label,n=e.value;return r.a.createElement("option",{key:n,value:n},a)}))))};var A,T,P,M,x,D,R,I,F,q,L,U,Y,G,Z,B,H,V=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"145",height:"47",fill:"none",viewBox:"0 0 145 47"},r.a.createElement("g",{filter:"url(#filter0_d)"},r.a.createElement("path",{fill:"#F9A03F",d:"M75.035 9.195l-3.603 8.807c-1.325-.633-2.59-1.113-3.797-1.441-1.196-.34-2.25-.586-3.164-.739a18.754 18.754 0 00-3.006-.263c-1.371.023-2.531.129-3.48.316-.95.176-1.712.422-2.286.738-.562.305-.955.657-1.177 1.055a1.794 1.794 0 00-.159 1.283c.117.516.393.926.827 1.23.433.294 1.013.516 1.74.669.726.14 1.588.234 2.584.28 1.008.048 2.138.077 3.392.089.657.011 1.383.035 2.18.07a17.54 17.54 0 012.443.281c.832.14 1.635.358 2.409.65a6.624 6.624 0 012.056 1.231 5.72 5.72 0 011.46 1.986c.362.797.544 1.776.544 2.936 0 1.055-.152 1.969-.457 2.742a6.187 6.187 0 01-1.23 1.987 6.572 6.572 0 01-1.829 1.336c-.691.34-1.43.609-2.214.808-.786.2-1.594.334-2.426.404a28.821 28.821 0 01-5.291-.035 27.797 27.797 0 01-2.654-.369 41.417 41.417 0 01-2.602-.58 71.194 71.194 0 01-2.62-.773l-1.036 3.093-2.479-.72 2.268-8.684c1.054.457 2.097.867 3.129 1.23 1.043.364 2.086.674 3.128.932 1.055.246 2.116.434 3.182.563 1.067.129 2.156.193 3.27.193 1.09 0 2.021-.064 2.795-.193.773-.13 1.4-.323 1.88-.58.493-.258.85-.58 1.073-.967.222-.387.334-.838.334-1.354 0-.644-.164-1.154-.492-1.529-.329-.375-.827-.662-1.495-.861-.656-.2-1.482-.334-2.478-.405a78.794 78.794 0 00-3.463-.158c-.926-.023-1.898-.058-2.918-.105a28.062 28.062 0 01-3.006-.3 17.603 17.603 0 01-2.812-.667 7.997 7.997 0 01-2.356-1.213 5.712 5.712 0 01-1.6-1.934c-.398-.773-.597-1.716-.597-2.83 0-.996.158-1.892.475-2.69a6.634 6.634 0 011.37-2.126 8.238 8.238 0 012.075-1.582 12.444 12.444 0 012.654-1.072c.973-.282 1.998-.48 3.076-.598a26.356 26.356 0 013.358-.14c1.172.058 2.332.175 3.48.35.48.071.985.165 1.512.282.527.106 1.049.24 1.564.404.516.153 1.014.334 1.495.545.48.2.925.428 1.335.686l.756-3.428 2.883 1.16zm19.283 15.47l-8.138-.651-.317 4.254H99.75l.686-3.428h2.742l-.616 9.158-25.523.967v-6.697h5.22l-.755-11.848-4.465.299v-6.627l26.139.545v10.142l-2.742.545-.545-6.082-13.096.861-.404 5.116 7.927-.475v3.92zm16.506-9.968a48.67 48.67 0 00-2.373.721c-.738.246-1.389.486-1.951.72l-.967-4.974a67.359 67.359 0 013.656-1.02 71.705 71.705 0 013.428-.755c1.09-.211 2.121-.387 3.094-.528.973-.14 1.875-.257 2.707-.351a53.202 53.202 0 015.361-.334c1.723.023 3.229.193 4.518.51 1.289.316 2.361.761 3.217 1.335.867.575 1.517 1.266 1.951 2.075.433.808.65 1.71.65 2.707 0 1.3-.304 2.46-.914 3.48-.597 1.02-1.394 1.922-2.39 2.707-.997.774-2.139 1.442-3.428 2.004a30.593 30.593 0 01-3.955 1.424c-1.36.387-2.707.697-4.043.932a63.812 63.812 0 01-3.639.51l.035 4.816 5.942.035v4.043l-14.907.931-.105-5.08 5.256.036-1.143-15.944zm11.953-2.267c-.398 0-.861.029-1.388.088-.516.046-1.078.117-1.688.21-.609.082-1.254.188-1.933.317-.68.129-1.377.27-2.092.422l.07 9.51a43.856 43.856 0 002.672-.65c.949-.27 1.881-.58 2.795-.933a24.557 24.557 0 002.637-1.177 11.814 11.814 0 002.162-1.46c.609-.527 1.078-1.089 1.406-1.687.34-.61.469-1.254.387-1.933-.059-.492-.223-.909-.493-1.248a2.86 2.86 0 00-1.072-.844c-.433-.223-.949-.38-1.547-.475a12.157 12.157 0 00-1.916-.14z"})),r.a.createElement("path",{fill:"url(#paint0_linear)",fillRule:"evenodd",d:"M30.469 0C36.25 0 40 3.75 40 9.531V30.47C40 36.25 36.25 40 30.469 40H9.53C3.75 40 0 36.25 0 30.469V9.53C0 3.75 3.75 0 9.531 0H30.47z",clipRule:"evenodd"}),r.a.createElement("mask",{id:"mask0",width:"40",height:"40",x:"0",y:"0",maskUnits:"userSpaceOnUse"},r.a.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M30.469 0C36.25 0 40 3.75 40 9.531V30.47C40 36.25 36.25 40 30.469 40H9.53C3.75 40 0 36.25 0 30.469V9.53C0 3.75 3.75 0 9.531 0H30.47z",clipRule:"evenodd"})),r.a.createElement("g",{mask:"url(#mask0)"},r.a.createElement("g",{filter:"url(#filter1_i)"},r.a.createElement("path",{fill:"#000",fillOpacity:"0.149",fillRule:"evenodd",d:"M20 31.333l12.195 9.679 10.244-.036.275-42.57-16.038.056-.158 18.503L20 31.333z",clipRule:"evenodd"})),r.a.createElement("path",{fill:"#FFDB5D",d:"M17.667-.333h-4.334v17.106h4.334V-.333z"}),r.a.createElement("path",{fill:"#FFB908",d:"M22.667-.333h-5.334v18h5.334v-18z"}),r.a.createElement("path",{fill:"#DC880D",fillRule:"evenodd",d:"M22.333-.333h4.334l-.13 17.294s-1.106.835-1.646.926c-.862.144-2.558-.22-2.558-.22v-18z",clipRule:"evenodd"}),r.a.createElement("mask",{id:"mask1",width:"17",height:"18",x:"12",y:"15",maskUnits:"userSpaceOnUse"},r.a.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M12.231 18.074s3.004-4.614 6.909-2.402c3.904 2.212 5.385 2.258 8.59.787 3.204-1.471-7.716 16.291-7.716 16.291L12.23 18.074z",clipRule:"evenodd"})),r.a.createElement("g",{mask:"url(#mask1)"},r.a.createElement("path",{fill:"url(#paint1_linear)",fillRule:"evenodd",d:"M13.158 16.404l6.514-3.425 6.91 3.876-6.593 14.473-6.83-14.924z",clipRule:"evenodd"}),r.a.createElement("mask",{id:"mask2",width:"14",height:"20",x:"13",y:"12",maskUnits:"userSpaceOnUse"},r.a.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M13.158 16.404l6.514-3.425 6.91 3.876-6.593 14.473-6.83-14.924z",clipRule:"evenodd"})),r.a.createElement("g",{mask:"url(#mask2)"},r.a.createElement("path",{fill:"#343434",d:"M25 26h-9.333v6H25v-6z"}),r.a.createElement("path",{fill:"url(#paint2_linear)",fillRule:"evenodd",d:"M17.168 14.024l3.015 18.725 7.533-16.313-10.548-2.412z",clipRule:"evenodd"}),r.a.createElement("mask",{id:"mask3",width:"11",height:"19",x:"17",y:"14",maskUnits:"userSpaceOnUse"},r.a.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M17.168 14.024l3.015 18.725 7.533-16.313-10.548-2.412z",clipRule:"evenodd"})),r.a.createElement("g",{mask:"url(#mask3)"},r.a.createElement("path",{fill:"#202020",d:"M25 26h-9.333v6H25v-6z"}))))),r.a.createElement("defs",null,r.a.createElement("filter",{id:"filter0_d",width:"93.113",height:"36.951",x:"45.002",y:"8.035",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.a.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.a.createElement("feOffset",{dy:"4"}),r.a.createElement("feGaussianBlur",{stdDeviation:"2"}),r.a.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),r.a.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),r.a.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),r.a.createElement("filter",{id:"filter1_i",width:"23.214",height:"43.606",x:"20",y:"-1.594",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.a.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),r.a.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.a.createElement("feOffset",{dx:"0.5",dy:"1.5"}),r.a.createElement("feGaussianBlur",{stdDeviation:"0.5"}),r.a.createElement("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),r.a.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),r.a.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow"})),r.a.createElement("linearGradient",{id:"paint0_linear",x1:"0",x2:"0",y1:"0",y2:"40",gradientUnits:"userSpaceOnUse"},r.a.createElement("stop",{stopColor:"#2EA3DC"}),r.a.createElement("stop",{offset:"1",stopColor:"#1383BB"})),r.a.createElement("linearGradient",{id:"paint1_linear",x1:"15.067",x2:"19.384",y1:"23.374",y2:"23.374",gradientUnits:"userSpaceOnUse"},r.a.createElement("stop",{stopColor:"#FBDEB5"}),r.a.createElement("stop",{offset:"1",stopColor:"#FEE0B9"})),r.a.createElement("linearGradient",{id:"paint2_linear",x1:"18.181",x2:"24.317",y1:"27.039",y2:"27.039",gradientUnits:"userSpaceOnUse"},r.a.createElement("stop",{stopColor:"#EAC99D"}),r.a.createElement("stop",{offset:"1",stopColor:"#D1AD7B"}))))},W=n(13),Q=Object(o.gql)(A||(A=Object(W.a)(["\n  mutation loginStudent($email: String!, $password: String!) {\n    loginStudent(email: $email, password: $password) {\n      token\n      student {\n        id\n        email\n      }\n    }\n  }\n"]))),J=Object(o.gql)(T||(T=Object(W.a)(["\n  mutation loginPracticeSuperviser($email: String!, $password: String!) {\n    loginPracticeSuperviser(email: $email, password: $password) {\n      token\n      practiceSuperviser {\n        id\n        email\n      }\n    }\n  }\n"]))),X=Object(o.gql)(P||(P=Object(W.a)(["\n  mutation loginCompany($email: String!, $password: String!) {\n    loginCompany(email: $email, password: $password) {\n      token\n      company {\n        id\n        email\n        phone\n        name\n      }\n    }\n  }\n"]))),K=function(){var e=Object(t.useState)(localStorage.getItem("token")),a=Object(v.a)(e,2),n=a[0],r=a[1],l=Object(t.useState)(localStorage.getItem("userType")),c=Object(v.a)(l,2),o=c[0],i=c[1];return{token:n,setToken:function(e){localStorage.setItem("token",e),r(e)},userType:o,setUserType:function(e){localStorage.setItem("userType",e),i(e)},removeToken:function(){r(void 0),localStorage.removeItem("token")},removeUserType:function(){i(void 0),localStorage.removeItem("userType")}}},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error",a=Object(m.b)(),n=a.enqueueSnackbar,t=function(a){a.graphQLErrors&&a.graphQLErrors.map((function(a){var t=a.message;n(t,{variant:e})}))};return[t,n]},ae={student:"student",practiceSuperviser:"practice-superviser",company:"company"},ne=Object(s.b)({key:"studentAtom",default:null}),te=Object(s.b)({key:"companyAtom",default:null}),re=Object(s.b)({key:"practiceSuperviserAtom",default:null}),le=Object(s.b)({key:"globalDatePickerValue",default:(new Date).getFullYear()}),ce=function(){var e=Object(_.a)(),a=e.register,n=e.handleSubmit,t=e.errors,l=K(),c=l.token,i=l.setToken,m=l.userType,u=l.setUserType,d=ee(),f=Object(v.a)(d,1)[0],g=Object(s.c)(ne),O=Object(v.a)(g,2)[1],w=Object(s.c)(te),k=Object(v.a)(w,2)[1],z=Object(s.c)(re),N=Object(v.a)(z,2)[1],C=Object(o.useMutation)(Q),A=Object(v.a)(C,1)[0],T=Object(o.useMutation)(J),P=Object(v.a)(T,1)[0],M=Object(o.useMutation)(X),x=Object(v.a)(M,1)[0];if(c&&m)return r.a.createElement(p.a,{to:"/"});return r.a.createElement("div",{className:j.a.page},r.a.createElement("div",{className:j.a.container},r.a.createElement(V,null),r.a.createElement("div",{className:j.a.content},r.a.createElement("h1",{className:j.a.title},"Zaloguj"),r.a.createElement("div",{className:j.a.form},r.a.createElement(S,{name:"email",label:"Email:",bright:!0,inputRef:a({required:!0,validate:h.a.isEmail})}),t.email&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Adres email jest niepoprawny."),r.a.createElement(S,{name:"password",label:"Has\u0142o:",type:"password",bright:!0,inputRef:a({required:!0,minLength:8})}),t.password&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Has\u0142o musi zawiera\u0107 minimum 8 znak\xf3w."),r.a.createElement($,{inputRef:a,options:[{label:"Student",value:ae.student},{label:"Opiekun praktyk",value:ae.practiceSuperviser},{label:"Firma",value:ae.company}],label:"Zaloguj jako:",name:"type",bright:!0,className:j.a.select}),r.a.createElement("button",{preset:"bright",className:j.a.logIn,onClick:n((function(e){switch(O(null),k(null),N(null),e.type){case ae.student:A({variables:{email:e.email,password:e.password}}).then(function(){var e=Object(E.a)(b.a.mark((function e(a){var n,t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.data,!(null===(t=n.loginStudent)||void 0===t?void 0:t.token)){e.next=8;break}return e.next=5,i(t.token);case 5:return e.next=7,u(ae.student);case 7:O(t.student);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(f);break;case ae.practiceSuperviser:P({variables:{email:e.email,password:e.password}}).then(function(){var e=Object(E.a)(b.a.mark((function e(a){var n,t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.data,!(null===(t=n.loginPracticeSuperviser)||void 0===t?void 0:t.token)){e.next=8;break}return e.next=5,i(t.token);case 5:return e.next=7,u(ae.practiceSuperviser);case 7:N(t.practiceSuperviser);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(f);break;case ae.company:x({variables:{email:e.email,password:e.password}}).then(function(){var e=Object(E.a)(b.a.mark((function e(a){var n,t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.data,!(null===(t=n.loginCompany)||void 0===t?void 0:t.token)){e.next=8;break}return e.next=5,i(t.token);case 5:return e.next=7,u(ae.company);case 7:k(t.company);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(f)}}))},"Zaloguj")))))},oe=n(45),ie=n.n(oe),me=n(332),se=n.n(me),ue=function(e){var a=e.children,n=e.className;return r.a.createElement("div",{className:Object(z.a)(se.a.container,n)},a)},de=n(67),pe=n.n(de),fe=function(){return r.a.createElement("svg",{width:"15",height:"13",viewBox:"0 0 15 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M12.553 0.239426L4.90996 7.88246L2.43115 5.40364L0 7.83478L2.47881 10.3136L4.92584 12.7607L7.357 10.3295L15 2.68648L12.553 0.239426Z",fill:"#2CCF50"}))},be=function(){return r.a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M14.5312 2.47758L12.5222 0.46875L7.5 5.49117L2.47758 0.46875L0.46875 2.47758L5.49094 7.5L0.46875 12.5224L2.47758 14.5312L7.5 9.50883L12.5222 14.5312L14.5312 12.5224L9.50859 7.5L14.5312 2.47758Z",fill:"#FB0404"}))},Ee=n(333),ve=function(e){var a=e.onFileSelect,n=e.children,l=e.inputRef,c=e.name,o=e.accept,i=Object(t.useRef)(null);return r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:function(e){a&&a(e.target.files[0])},ref:Object(Ee.a)([i,l]),style:{display:"none"},name:c,accept:o}),r.a.cloneElement(n,{onClick:function(){return i.current&&i.current.click()}}))},_e=Object(o.gql)(M||(M=Object(W.a)(["\n  mutation createDocumentFile(\n    $file: Upload!\n    $PracticeAgreementId: ID!\n    $type: DocumentType\n  ) {\n    createDocumentFile(\n      file: $file\n      PracticeAgreementId: $PracticeAgreementId\n      type: $type\n    ) {\n      status\n    }\n  }\n"]))),ge=n(618),he=n(177),ye=n.n(he),Oe=function(e){return e.global?c.a.createPortal(r.a.createElement("div",{className:ye.a.container},r.a.createElement(ge.a,{className:Object(z.a)(ye.a.spinner,e.className)})),document.body):r.a.createElement(ge.a,{className:Object(z.a)(ye.a.spinner,e.className)})},je="https://sep-praca-dyplomowa.herokuapp.com",we=n(334),ke=n.n(we),ze=function(e){var a=e.children,n=e.color,t=e.className;return r.a.createElement("div",{className:Object(z.a)(ke.a.companyAvatar,t),style:{backgroundColor:n}},a)},Se="agreement",Ne="personalData",Ce=function(e){var a=e.id,n=e.company_name,l=e.address,c=e.city,i=e.phone,m=e.email,s=e.from,u=e.to,d=e.accepted,f=e.dictionaryUrl,b=e.DocumentFiles,E=e.refetch,_=e.Company,g=e.company_accepted,h=Object(p.g)(),y=Object(t.useState)(),O=Object(v.a)(y,2),j=O[0],w=O[1],k=Object(t.useState)(),z=Object(v.a)(k,2),S=z[0],N=z[1],C=Object(t.useState)(),$=Object(v.a)(C,2),A=$[0],T=$[1],P=Object(o.useMutation)(_e),M=Object(v.a)(P,1)[0],x=K().token,D=b.find((function(e){return e.type===Se})),R=b.find((function(e){return e.type===Ne})),I=function(e,n){T(!0),M({variables:{PracticeAgreementId:a,file:e,type:n}}).then((function(e){e&&console.log(e),T(!1),E()})).catch((function(e){console.log(e),T(!1)}))};return r.a.createElement(r.a.Fragment,null,A&&r.a.createElement(Oe,{global:!0}),r.a.createElement(ue,{className:pe.a.container},r.a.createElement("div",{className:pe.a.block},r.a.createElement("h2",null,n),_&&r.a.createElement(ze,{color:_.color,className:pe.a.companyAvatar},_.name.charAt(0),"-",_.first_name.charAt(0),_.last_name.charAt(0)),r.a.createElement("span",null,r.a.createElement("span",null,"Email:")," ",m),r.a.createElement("span",null,r.a.createElement("span",null,"Telefon:")," ",i),r.a.createElement("span",null,r.a.createElement("span",null,"Miejscowo\u015b\u0107:")," ",c),r.a.createElement("span",null,r.a.createElement("span",null,"Adres:")," ",l),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("span",null,"Okres wykonywania praktyki:")," od"," ",ie()(s).format("DD/MM/YYYY")," do"," ",ie()(u).format("DD/MM/YYYY")),r.a.createElement("span",null,r.a.createElement("span",null,"Zgoda opiekuna praktyk: "),d?r.a.createElement(fe,null):r.a.createElement(be,null)),_&&r.a.createElement("span",null,r.a.createElement("span",null,"Zgoda firmy: "),g?r.a.createElement(fe,null):!1===g?r.a.createElement(be,null):"Brak"),r.a.createElement("div",{className:pe.a.marginTop},d&&r.a.createElement("button",{onClick:function(){return h.push("".concat(f,"/").concat(a))}},"Dziennik"))),r.a.createElement("div",{className:pe.a.block},r.a.createElement("h3",null,"Dokumenty"),(_&&g||!_)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,r.a.createElement("span",null,"Umowa o praktyk\u0119")),r.a.createElement("div",{className:pe.a.buttons},r.a.createElement("button",{onClick:function(){T(!0),fetch("".concat(je,"/uploads/").concat(D.id),{headers:new Headers({Authorization:x})}).then((function(e){return e.blob()})).then((function(e){var a=document.createElement("a");a.href=window.URL.createObjectURL(e),a.download="Umowa o praktyk\u0119.pdf",a.click(),T(!1)})).catch((function(e){console.error(e),T(!1)}))},disabled:!D},"Umowa o praktyk\u0119"),!d&&r.a.createElement("div",{className:pe.a.fileHandler},r.a.createElement(ve,{onFileSelect:function(e){return w(e)}},r.a.createElement("button",null,"Przegl\u0105daj")),r.a.createElement("span",null,null===j||void 0===j?void 0:j.name))),j&&r.a.createElement("button",{onClick:function(){return I(j,Se)},className:pe.a.send},"Wy\u015blij"),r.a.createElement("span",null,r.a.createElement("span",null,"Umowa powierzenia przetwarzania danych osobowych")),r.a.createElement("div",{className:pe.a.buttons},r.a.createElement("button",{onClick:function(){return fetch("".concat(je,"/uploads/").concat(R.id),{headers:new Headers({Authorization:x})}).then((function(e){return e.blob()})).then((function(e){var a=document.createElement("a");a.href=window.URL.createObjectURL(e),a.download="Umowa powierzenia przetwarzania danych osobowych.pdf",a.click(),T(!1)})).catch((function(e){console.error(e),T(!1)}))},disabled:!R},"Umowa przetwarzania danych"),!d&&r.a.createElement("div",{className:pe.a.fileHandler},r.a.createElement(ve,{onFileSelect:function(e){return N(e)}},r.a.createElement("button",null,"Przegl\u0105daj")),r.a.createElement("span",null,null===S||void 0===S?void 0:S.name))),S&&r.a.createElement("button",{onClick:function(){return I(S,Ne)},className:pe.a.send},"Wy\u015blij")))))},$e=(n(559),n(139)),Ae=n.n($e),Te=function(e){var a=e.title,n=e.children,t=e.button;return r.a.createElement("div",{className:Ae.a.container},r.a.createElement("div",{className:Ae.a.header},r.a.createElement("h1",{className:Ae.a.title},a),t),r.a.createElement("div",{className:Ae.a.content},n))},Pe=n(118),Me=n.n(Pe),xe=n(119),De=n.n(xe),Re=n(335),Ie=n.n(Re),Fe=function(e){var a=e.open,n=e.setOpenModal,t=e.children,l=e.header,o=e.buttons,i=e.isLoading;return a&&c.a.createPortal(r.a.createElement("div",{className:De.a.backdrop,onClick:function(){return n(!1)}},r.a.createElement("div",{className:De.a.modal,onClick:function(e){return e.stopPropagation()}},l&&r.a.createElement("div",{className:De.a.header},r.a.createElement("h2",null,l),r.a.createElement(Ie.a,{onClick:function(){return n(!1)}})),r.a.createElement("div",{className:De.a.content},t),r.a.createElement("div",{className:De.a.footer},r.a.createElement("div",null,i&&r.a.createElement(Oe,null)),r.a.createElement("div",null,o)))),document.body)},qe=Object(o.gql)(x||(x=Object(W.a)(["\n  mutation createPracticeAgreement(\n    $city: String!\n    $address: String!\n    $from: Date!\n    $to: Date!\n    $email: String!\n    $phone: String!\n    $company_name: String!\n  ) {\n    createPracticeAgreement(\n      city: $city\n      address: $address\n      from: $from\n      to: $to\n      phone: $phone\n      email: $email\n      company_name: $company_name\n    ) {\n      city\n      address\n      email\n      company_name\n      from\n      to\n      accepted\n    }\n  }\n"]))),Le=function(e){var a=e.setOpenModal,n=e.refetch,l=Object(t.useState)(!1),c=Object(v.a)(l,2),i=c[0],m=c[1],s=Object(_.a)(),u=s.register,d=s.errors,p=s.handleSubmit,f=Object(o.useMutation)(qe),b=Object(v.a)(f,1)[0],E=ee(),g=Object(v.a)(E,2),O=g[0],j=g[1];return r.a.createElement(Fe,Object.assign({},e,{header:"Zg\u0142o\u015b praktyk\u0119",isLoading:i,buttons:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{preset:"bright",onClick:function(){return a(!1)}},"Zamknij"),r.a.createElement("button",{onClick:p((function(e){m(!0),b({variables:{city:e.city,address:e.address,from:e.from,to:e.to,phone:e.phone,email:e.email,company_name:e.company_name}}).then((function(){m(!1),j("Praktyka zg\u0142oszona pomy\u015blnie",{variant:"success"}),n(),a(!1)})).catch((function(e){console.log(e),O(e),m(!1)}))}))},"Wy\u015blij zg\u0142oszenie"))}),r.a.createElement("div",{className:Me.a.container},r.a.createElement("div",{className:Me.a.content},r.a.createElement("div",{className:Me.a.inputGroup},r.a.createElement(S,{label:"Nazwa firmy*",labelOnTop:!0,inputRef:u({required:!0}),name:"company_name",placeholder:"Example z.o.o"}),r.a.createElement(S,{label:"Email*",labelOnTop:!0,inputRef:u({validate:function(e){return!e||h.a.isEmail(e)}}),name:"email",placeholder:"jk@example.com"}),r.a.createElement(S,{label:"Telefon*",labelOnTop:!0,inputRef:u({required:!0}),name:"phone",placeholder:"678 890 ..."}),r.a.createElement(S,{label:"Miejscowo\u015b\u0107 i kod pocztowy*",labelOnTop:!0,inputRef:u({required:!0}),name:"city",placeholder:"Olsztyn, 10-089"}),r.a.createElement(S,{label:"Adres*",labelOnTop:!0,inputRef:u({required:!0}),name:"address",placeholder:"Wyspia\u0144skiego 18"}))),r.a.createElement("div",null,r.a.createElement("div",{className:Me.a.fromToWrapper},r.a.createElement("label",null,"Przedzia\u0142 czasowy"),r.a.createElement(S,{type:"date",label:"Od*",inputRef:u({required:!0}),name:"from"}),r.a.createElement(S,{type:"date",label:"Do*",inputRef:u({required:!0}),name:"to"})))),r.a.createElement("div",{className:Me.a.errors},d.city&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Miejscowo\u015b\u0107 i kod pocztowy s\u0105 wymagane"),d.company_name&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Nazwa firmy jest wymagana"),d.address&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Adres jest wymagany"),d.phone&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Telefon jest wymagany"),(d.from||d.to)&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Podaj poprawny przedzia\u0142 czasowy"),d.email&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Adres email jest niepoprawny")))},Ue=Object(o.gql)(D||(D=Object(W.a)(["\n  query myPracticeAgreements {\n    myPracticeAgreements {\n      id\n      address\n      city\n      email\n      company_name\n      phone\n      from\n      to\n      accepted\n      DocumentFiles {\n        id\n        status\n        type\n        rejectNote\n      }\n      Company {\n        id\n        first_name\n        last_name\n        name\n        color\n      }\n      company_accepted\n    }\n  }\n"]))),Ye=n(178),Ge=n.n(Ye),Ze=Object(o.gql)(R||(R=Object(W.a)(["\n  mutation createDocumentFile($file: Upload!, $PracticeAgreementId: ID!) {\n    createDocumentFile(\n      file: $file\n      PracticeAgreementId: $PracticeAgreementId\n      type: journal\n    ) {\n      status\n    }\n  }\n"]))),Be=Object(o.gql)(I||(I=Object(W.a)(["\n  query getDocumentFile($PracticeAgreementId: ID!) {\n    getDocumentFile(PracticeAgreementId: $PracticeAgreementId, type: journal) {\n      id\n      status\n      rejectNote\n    }\n  }\n"]))),He=function(){var e,a,n=K().token,l=Object(o.useMutation)(Ze),c=Object(v.a)(l,1)[0],i=Object(p.h)().agreementId,m=Object(o.useLazyQuery)(Be),s=Object(v.a)(m,2),u=s[0],d=s[1],f=d.data,b=d.loading,E=d.refetch,_=Object(t.useState)(),g=Object(v.a)(_,2),h=g[0],y=g[1],O=ee(),j=Object(v.a)(O,1)[0],w=Object(t.useState)(!1),k=Object(v.a)(w,2),z=k[0],S=k[1];if(Object(t.useEffect)((function(){i&&u({variables:{PracticeAgreementId:i}})}),[i]),b||z)return r.a.createElement(Oe,null);console.log(f);var N=null===f||void 0===f?void 0:f.getDocumentFile;return r.a.createElement("div",{className:Ge.a.container},(null===N||void 0===N?void 0:N.id)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,r.a.createElement("span",null,"Zatwierdzone przez opiekuna praktyk:"),"accepted"===(null===N||void 0===N?void 0:N.status)?r.a.createElement(fe,null):"rejected"===(null===N||void 0===N?void 0:N.status)?r.a.createElement(be,null):" Brak"),r.a.createElement("br",null),(null===N||void 0===N?void 0:N.rejectNote)&&r.a.createElement("span",null,r.a.createElement("span",null,"Pow\xf3d odrzucenia: "),N.rejectNote)),r.a.createElement("div",{className:Ge.a.wrapper},(null===N||void 0===N?void 0:N.id)&&r.a.createElement("button",{preset:"bright",onClick:function(){return fetch("".concat(je,"/uploads/").concat(null===N||void 0===N?void 0:N.id),{headers:new Headers({Authorization:n})}).then((function(e){return e.blob()})).then((function(e){var a=document.createElement("a");a.href=window.URL.createObjectURL(e),a.download="Dziennik praktyk.pdf",a.click(),S(!1)})).catch((function(e){console.error(e),S(!1)}))}},"Dziennik"),(!(null===N||void 0===N?void 0:N.id)||!(null===f||void 0===f||null===(e=f.getJournal)||void 0===e?void 0:e.status))&&r.a.createElement("div",{className:Ge.a.fileHandler},r.a.createElement(ve,{onFileSelect:function(e){return y(e)}},r.a.createElement("button",null,"Przegl\u0105daj")),r.a.createElement("span",null,null===h||void 0===h?void 0:h.name))),(!(null===N||void 0===N?void 0:N.id)||!(null===f||void 0===f||null===(a=f.getJournal)||void 0===a?void 0:a.status))&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){S(!0),h&&c({variables:{file:h,PracticeAgreementId:i}}).then((function(e){e&&E(),S(!1)})).catch((function(e){S(!1),j(e)}))}},"Wy\u015blij")))},Ve=function(){var e=Object(t.useState)(!1),a=Object(v.a)(e,2),n=a[0],l=a[1],c=Object(o.useQuery)(Ue),i=c.data,m=c.loading,s=(c.error,c.refetch),u=Object(p.i)();return m?r.a.createElement(Oe,{global:!0}):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.b,{exact:!0,path:"".concat(u.path,"/")},r.a.createElement(Te,{title:"Moja praktyka",button:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return l(!0)}},"Zg\u0142o\u015b praktyk\u0119")))},null===i||void 0===i?void 0:i.myPracticeAgreements.map((function(e){return r.a.createElement(Ce,Object.assign({refetch:s,key:e.id},e,{dictionaryUrl:"".concat(u.path,"/dictionary")}))}))),n&&r.a.createElement(Le,{open:n,setOpenModal:l,refetch:s})),r.a.createElement(p.b,{path:"".concat(u.path,"/dictionary/:agreementId")},r.a.createElement(Te,{title:"Dziennik"},r.a.createElement(He,null))))},We=n(17),Qe=n(140),Je=n.n(Qe),Xe=n(336),Ke=n.n(Xe),ea=function(e){var a=e.children,n=e.onConfirm,t=e.onDecline,l=e.component;return r.a.createElement(Fe,Object.assign({},e,{buttons:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{preset:"bright",onClick:t},"Nie"),r.a.createElement("button",{onClick:n},"Tak"))}),l?a:r.a.createElement("p",{className:Ke.a.text},a))},aa=n(120),na=n.n(aa),ta=n(179),ra=n.n(ta),la=function(e){var a=e.id,n=e.name,t=e.onChange,l=e.inputRef,c=(e.value,e.placeholder),o=e.labelOnTop,i=e.label,m=e.className,s=e.bright,u=e.defaultValue;return r.a.createElement("div",{className:Object(z.a)(ra.a.container,m,o&&ra.a.labelOnTop)},i&&r.a.createElement("label",{className:Object(z.a)(s&&ra.a.bright)},i),r.a.createElement("textarea",{id:a,name:n,onChange:t,ref:l,placeholder:c,defaultValue:u}))},ca=Object(o.gql)(F||(F=Object(W.a)(["\n  mutation editPracticeAnnouncement(\n    $id: ID!\n    $header: String\n    $slots: Int\n    $technologies: String\n    $description: String\n    $from: Date\n    $to: Date\n    $email: String\n    $phone: String\n    $company_name: String\n  ) {\n    editPracticeAnnouncement(\n      id: $id\n      header: $header\n      slots: $slots\n      technologies: $technologies\n      description: $description\n      from: $from\n      to: $to\n      phone: $phone\n      email: $email\n      company_name: $company_name\n    ) {\n      id\n      header\n      slots\n      description\n      technologies\n      from\n      to\n      phone\n      email\n      company_name\n    }\n  }\n"]))),oa=function(e){var a=Object(_.a)(),n=a.register,l=a.errors,c=a.handleSubmit,i=ee(),m=Object(v.a)(i,2),u=m[0],d=m[1],p=Object(o.useMutation)(ca),f=Object(v.a)(p,1)[0],b=Object(t.useState)(!1),E=Object(v.a)(b,2),g=E[0],O=E[1],j=Object(s.d)(te),w=e.setOpenModal,k=e.refetch,z=e.announcement,N=ie()(z.from).format("YYYY-MM-DD"),C=ie()(z.to).format("YYYY-MM-DD");return r.a.createElement(Fe,Object.assign({},e,{header:"Edytuj og\u0142oszenie",isLoading:g,buttons:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{preset:"bright",onClick:function(){return w(!1)}},"Zamknij"),r.a.createElement("button",{onClick:c((function(e){var a={};a.id=z.id,e.header!==z.header&&(a.header=e.header),e.slots!==z.slots&&(a.slots=parseInt(e.slots)),e.technologies!==z.technologies&&(a.technologies=e.technologies),e.description!==z.description&&(a.description=e.description),e.from!==N&&(a.from=e.from),e.to!==C&&(a.to=e.to),e.phone!==z.phone&&(a.phone=e.phone),e.email!==z.email&&(a.email=e.email),e.company_name!==z.company_name&&(a.company_name=e.company_name),O(!0),f({variables:a}).then((function(){O(!1),k(),d("Og\u0142oszenie edytowano pomy\u015blnie",{variant:"success"}),w(!1)})).catch((function(e){console.log(e),u(e),O(!1)}))}))},"Zapisz og\u0142oszenie")," ")}),r.a.createElement("div",{className:na.a.container},r.a.createElement("div",{className:na.a.content},r.a.createElement("div",{className:na.a.inputGroup},r.a.createElement(S,{inputRef:n({required:!0}),label:"Nag\u0142\xf3wek*",labelOnTop:!0,name:"header",placeholder:"Praktyki na stanowisku...",defaultValue:z.header}),j?r.a.createElement("div",null,r.a.createElement("label",null,"Nazwa firmy"),r.a.createElement("br",null),r.a.createElement("span",null,j.name)):r.a.createElement(S,{label:"Nazwa firmy*",labelOnTop:!0,inputRef:n({required:!0}),name:"company_name",placeholder:"Example z.o.o",defaultValue:z.company_name}),r.a.createElement(S,{label:"Miejsca*",type:"number",labelOnTop:!0,inputRef:n({required:!0}),name:"slots",defaultValue:z.slots}),r.a.createElement(S,{label:"Technologie*",labelOnTop:!0,inputRef:n({required:!0}),name:"technologies",placeholder:"Java, C++, c#",defaultValue:z.technologies}),j?r.a.createElement("div",null,r.a.createElement("label",null,"Email"),r.a.createElement("br",null),r.a.createElement("span",null,j.email)):r.a.createElement(S,{label:"Email",labelOnTop:!0,inputRef:n({validate:function(e){return!e||h.a.isEmail(e)}}),name:"email",placeholder:"jk@example.com",defaultValue:z.email}),(null===j||void 0===j?void 0:j.phone)?r.a.createElement("div",null,r.a.createElement("label",null,"Phone"),r.a.createElement("br",null),r.a.createElement("span",null,j.phone)):r.a.createElement(S,{label:"Telefon",labelOnTop:!0,inputRef:n,name:"phone",placeholder:"678 890 ...",defaultValue:z.phone}))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(la,{label:"Opis",name:"description",labelOnTop:!0,inputRef:n,defaultValue:z.description})),r.a.createElement("div",{className:na.a.fromToWrapper},r.a.createElement("label",null,"Przedzia\u0142 czasowy"),r.a.createElement(S,{type:"date",label:"Od*",inputRef:n({required:!0}),name:"from",defaultValue:N}),r.a.createElement(S,{type:"date",label:"Do*",inputRef:n({required:!0}),name:"to",defaultValue:C})))),r.a.createElement("div",{className:na.a.errors},l.header&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Nag\u0142\xf3wek jest wymagany"),l.company_name&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Nazwa firmy jest wymagana"),l.slots&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Miejsca s\u0105 wymagane"),l.technologies&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Technologie s\u0105 wymagane"),(l.from||l.to)&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Podaj poprawny przedzia\u0142 czasowy"),l.email&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Adres email jest niepoprawny")))},ia=Object(o.gql)(q||(q=Object(W.a)(["\n  mutation deletePracticeAnnouncement($id: ID!) {\n    deletePracticeAnnouncement(id: $id)\n  }\n"]))),ma=Object(o.gql)(L||(L=Object(W.a)(["\n  mutation confirmPracticeAnnouncement($id: ID!) {\n    confirmPracticeAnnouncement(id: $id) {\n      id\n      header\n    }\n  }\n"]))),sa=Object(o.gql)(U||(U=Object(W.a)(["\n  mutation createApplication(\n    $id: ID!\n    $CompanyId: ID!\n    $from: Date!\n    $to: Date!\n  ) {\n    createApplication(id: $id, CompanyId: $CompanyId, from: $from, to: $to) {\n      id\n    }\n  }\n"]))),ua=function(e){var a=e.id,n=e.header,l=e.slots,c=e.from,i=e.to,m=e.technologies,u=e.description,d=e.accepted,f=e.email,_=e.phone,g=e.company_name,h=e.CompanyId,y=e.announcements,O=e.setAnnouncements,j=e.refetch,w=e.updatedAt,k=e.Company,z=K().userType,S=Object(t.useState)(!1),N=Object(v.a)(S,2),C=N[0],$=N[1],A=Object(t.useState)(!1),T=Object(v.a)(A,2),P=T[0],M=T[1],x=Object(s.c)(te),D=Object(v.a)(x,1)[0],R=Object(t.useState)(!1),I=Object(v.a)(R,2),F=I[0],q=I[1],L=Object(o.useMutation)(ma),U=Object(v.a)(L,1)[0],Y=Object(o.useMutation)(ia),G=Object(v.a)(Y,1)[0],Z=Object(p.g)(),B=Object(o.useMutation)(sa),H=Object(v.a)(B,1)[0],V=ee(),W=Object(v.a)(V,2),Q=W[0],J=W[1],X=function(){var e=Object(E.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G({variables:{id:a}});case 2:e.sent?(J("Usuni\u0119to pomy\u015blnie",{variant:"success"}),$(!1),O(y.filter((function(e){return e.id!==a})))):J("Wyst\u0105pi\u0142 problem",{variant:"error"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(ue,{className:Je.a.container},r.a.createElement("div",{className:Je.a.header},r.a.createElement("h2",null,n)," ",r.a.createElement("span",null,ie()(w).format("DD/MM/YYYY"))),r.a.createElement("span",null,k&&r.a.createElement(ze,{color:k.color,className:Je.a.companyAvatar},k.name.charAt(0),"-",k.first_name.charAt(0),k.last_name.charAt(0)),r.a.createElement("span",null,"Nazwa firmy: "),g," "),k&&r.a.createElement("span",null,r.a.createElement("span",null,"Przedstawiciel: "),"".concat(k.first_name," ").concat(k.last_name)),r.a.createElement("span",null,r.a.createElement("span",null,"Miejsca:")," ",l),r.a.createElement("span",null,r.a.createElement("span",null,"Od:")," ",ie()(c).format("DD/MM/YYYY")," ",r.a.createElement("span",null,"do: "),ie()(i).format("DD/MM/YYYY")),f&&r.a.createElement("span",null,r.a.createElement("span",null,"Email:")," ",f),_&&r.a.createElement("span",null,r.a.createElement("span",null,"Telefon:")," ",_),r.a.createElement("span",null,r.a.createElement("span",null,"Technologie:")," ",m),h&&h===(null===D||void 0===D?void 0:D.id)&&z===ae.company&&r.a.createElement("span",null,r.a.createElement("span",null,"Zatwierdzone:")," ",d?r.a.createElement(fe,null):r.a.createElement(be,null)),r.a.createElement("p",null,u),r.a.createElement("div",{className:Je.a.buttons},z===ae.student&&h&&r.a.createElement("button",{onClick:function(){return q(!0)}},"Z\u0142\xf3\u017c podanie"),z===ae.practiceSuperviser&&!1===d&&r.a.createElement("button",{onClick:function(){U({variables:{id:a}}).then((function(e){e&&(J("Zatwierdzono pomy\u015blnie",{variant:"success"}),O(y.map((function(e){return e.id===a?Object(We.a)(Object(We.a)({},e),{},{accepted:!0}):e}))))})).catch(Q)}},"Zatwierd\u017a"),(z===ae.company&&h&&h===(null===D||void 0===D?void 0:D.id)||z===ae.practiceSuperviser)&&r.a.createElement("button",{onClick:function(){return M(!0)}},"Edytuj"),(z===ae.practiceSuperviser||h&&h===(null===D||void 0===D?void 0:D.id)&&z===ae.company)&&r.a.createElement("button",{preset:"red",onClick:function(){return $(!0)}},"Usu\u0144")),C&&r.a.createElement(ea,{open:C,setOpenModal:$,onDecline:function(){return $(!1)},onConfirm:X},"Czy na pewno chcesz usun\u0105\u0107 te og\u0142oszenie?",r.a.createElement("br",null),"Tej operacji nie da si\u0119 cofn\u0105\u0107."),F&&r.a.createElement(ea,{open:F,setOpenModal:q,onDecline:function(){return q(!1)},onConfirm:function(){H({variables:{id:a,CompanyId:h,from:c,to:i}}).then((function(e){e&&Z.push("/mypractice")})).catch(Q)}},"Czy na pewno chcesz z\u0142o\u017cy\u0107 podanie?",r.a.createElement("br",null),"Tej operacji nie da si\u0119 cofn\u0105\u0107."),P&&r.a.createElement(oa,{open:P,setOpenModal:M,announcement:{id:a,header:n,slots:l,from:c,to:i,technologies:m,description:u,accepted:d,email:f,phone:_,company_name:g,CompanyId:h},refetch:j}))},da=Object(o.gql)(Y||(Y=Object(W.a)(["\n  query practiceAnnouncements {\n    practiceAnnouncements {\n      id\n      header\n      slots\n      technologies\n      description\n      to\n      from\n      accepted\n      phone\n      email\n      company_name\n      updatedAt\n      CompanyId\n      Company {\n        name\n        first_name\n        last_name\n        color\n      }\n    }\n  }\n"]))),pa=function(){var e=Object(o.useQuery)(da),a=e.loading,n=e.error,l=e.data,c=e.refetch,i=Object(t.useState)(!1),m=Object(v.a)(i,2),s=m[0],u=m[1];return a?r.a.createElement(Oe,null):n?"error":r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,{title:"Og\u0142oszenia praktyk"},l.practiceAnnouncements.map((function(e,a){return r.a.createElement(ua,Object.assign({key:a},e))}))),s&&r.a.createElement(Fe,{open:s,setOpenModal:u,refetch:c}))},fa=n(68),ba=n.n(fa),Ea=Object(o.gql)(G||(G=Object(W.a)(["\n  mutation updateStudentProfile(\n    $first_name: String\n    $last_name: String\n    $password: String\n    $confirmPassword: String\n    $index_number: String\n  ) {\n    updateStudentProfile(\n      first_name: $first_name\n      last_name: $last_name\n      password: $password\n      confirmPassword: $confirmPassword\n      index_number: $index_number\n    ) {\n      id\n      email\n      first_name\n      last_name\n      index_number\n    }\n  }\n"]))),va=Object(o.gql)(Z||(Z=Object(W.a)(["\n  mutation updateCompanyProfile(\n    $first_name: String\n    $last_name: String\n    $password: String\n    $confirmPassword: String\n    $name: String\n    $city: String\n    $address: String\n    $phone: String\n  ) {\n    updateCompanyProfile(\n      first_name: $first_name\n      last_name: $last_name\n      password: $password\n      confirmPassword: $confirmPassword\n      name: $name\n      city: $city\n      address: $address\n      phone: $phone\n    ) {\n      id\n      email\n      phone\n      name\n      first_name\n      last_name\n      color\n      city\n      address\n      phone\n    }\n  }\n"]))),_a=Object(o.gql)(B||(B=Object(W.a)(["\n  mutation updatePracticeSuperviserProfile(\n    $first_name: String\n    $last_name: String\n    $password: String\n    $confirmPassword: String\n  ) {\n    updatePracticeSuperviserProfile(\n      first_name: $first_name\n      last_name: $last_name\n      password: $password\n      confirmPassword: $confirmPassword\n    ) {\n      id\n      email\n      first_name\n      last_name\n    }\n  }\n"]))),ga=function(){var e=Object(_.a)(),a=e.register,n=e.errors,l=e.handleSubmit,c=Object(s.c)(te),i=Object(v.a)(c,2),m=i[0],u=i[1],d=Object(s.c)(ne),p=Object(v.a)(d,2),f=p[0],b=p[1],E=Object(s.c)(re),g=Object(v.a)(E,2),h=g[0],O=g[1],j=Object(t.useState)(),w=Object(v.a)(j,2),k=w[0],z=w[1],N=Object(o.useMutation)(Ea),C=Object(v.a)(N,1)[0],$=Object(o.useMutation)(va),A=Object(v.a)($,1)[0],T=Object(o.useMutation)(_a),P=Object(v.a)(T,1)[0],M=ee(),x=Object(v.a)(M,2),D=x[0],R=x[1];return r.a.createElement(Te,{title:"Profil"},k&&r.a.createElement(Oe,{global:!0}),r.a.createElement(ue,null," ",r.a.createElement("div",{className:ba.a.container},r.a.createElement("div",{className:ba.a.content},f&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:ba.a.formGroup},r.a.createElement(S,{inputRef:a(),label:"Imi\u0119",labelOnTop:!0,name:"first_name",defaultValue:f.first_name}),r.a.createElement(S,{label:"Nazwisko",labelOnTop:!0,inputRef:a(),name:"last_name",defaultValue:f.last_name}),r.a.createElement(S,{label:"Numer indeksu",labelOnTop:!0,inputRef:a(),name:"index_number",defaultValue:f.index_number})),r.a.createElement("div",{className:ba.a.formGroup},r.a.createElement(S,{label:"Has\u0142o",type:"password",labelOnTop:!0,inputRef:a(),name:"password"}),r.a.createElement(S,{label:"Powt\xf3rz has\u0142o",type:"password",labelOnTop:!0,inputRef:a(),name:"confirmPassword"}))),m&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:ba.a.formGroup},r.a.createElement(S,{inputRef:a(),label:"Imi\u0119",labelOnTop:!0,name:"first_name",defaultValue:m.first_name}),r.a.createElement(S,{label:"Nazwisko",labelOnTop:!0,inputRef:a(),name:"last_name",defaultValue:m.last_name}),r.a.createElement(S,{label:"Telefon",labelOnTop:!0,inputRef:a(),name:"phone",defaultValue:m.phone})),r.a.createElement("div",{className:ba.a.formGroup},r.a.createElement(S,{label:"Nazwa firmy",labelOnTop:!0,inputRef:a(),name:"name",defaultValue:m.name}),r.a.createElement(S,{label:"Miasto i kod pocztowy",labelOnTop:!0,inputRef:a(),name:"city",defaultValue:m.city}),r.a.createElement(S,{label:"Ulica",labelOnTop:!0,inputRef:a(),name:"address",defaultValue:m.address})),r.a.createElement("div",{className:ba.a.formGroup},r.a.createElement(S,{label:"Has\u0142o",type:"password",labelOnTop:!0,inputRef:a(),name:"password"}),r.a.createElement(S,{label:"Powt\xf3rz has\u0142o",type:"password",labelOnTop:!0,inputRef:a(),name:"confirmPassword"}))),h&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:ba.a.formGroup},r.a.createElement(S,{inputRef:a(),label:"Imi\u0119",labelOnTop:!0,name:"first_name",defaultValue:h.first_name}),r.a.createElement(S,{label:"Nazwisko",labelOnTop:!0,inputRef:a(),name:"last_name",defaultValue:h.last_name})),r.a.createElement("div",{className:ba.a.formGroup},r.a.createElement(S,{label:"Has\u0142o",type:"password",labelOnTop:!0,inputRef:a(),name:"password"}),r.a.createElement(S,{label:"Powt\xf3rz has\u0142o",type:"password",labelOnTop:!0,inputRef:a(),name:"confirmPassword"})))),r.a.createElement("div",{className:ba.a.buttons},r.a.createElement("button",{onClick:l((function(e){if(z(!0),f)if(e.password!==e.confirmPassword)R("Has\u0142a musz\u0105 by\u0107 takie same.",{variant:"error"});else if(e.password.length<8&&e.password.length>0)R("Has\u0142o musi mie\u0107 przynajmniej 8 znak\xf3w.",{variant:"error"});else if(e.first_name.length<3||e.last_name.length<3)R("Imi\u0119 i nazwisko, musz\u0105 mie\u0107 przynajmniej 3 znaki.",{variant:"error"});else{var a={};if(f.first_name!==e.first_name&&(a.first_name=e.first_name),f.last_name!==e.last_name&&(a.last_name=e.last_name),e.password.length>0&&(a.password=e.password,a.confirmPassword=e.confirmPassword),f.index_number!==e.index_number&&(a.index_number=e.index_number),!a.first_name&&!a.last_name&&!a.password&&!a.index_number)return R("Nie dokonano \u017cadnych zmian",{variant:"warning"}),void z(!1);C({variables:a}).then((function(e){var a,n;(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.updateStudentProfile)&&(console.log(e),R("Zauktualizowano pomy\u015blnie.",{variant:"success"}),b(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.updateStudentProfile));z(!1)})).catch((function(e){z(!1),D(e)}))}if(m)if(console.log(e),e.password!==e.confirmPassword)R("Has\u0142a musz\u0105 by\u0107 takie same.",{variant:"error"});else if(e.password.length<8&&e.password.length>0)R("Has\u0142o musi mie\u0107 przynajmniej 8 znak\xf3w.",{variant:"error"});else if(e.first_name.length<3||e.last_name.length<3)R("Imi\u0119 i nazwisko, musz\u0105 mie\u0107 przynajmniej 3 znaki.",{variant:"error"});else{var n={};if(m.first_name!==e.first_name&&(n.first_name=e.first_name),m.last_name!==e.last_name&&(n.last_name=e.last_name),e.password.length>0&&(n.password=e.password,n.confirmPassword=e.confirmPassword),m.name!==e.name&&(n.name=e.name),m.phone!==e.phone&&(n.phone=e.phone),m.city!==e.city&&(n.city=e.city),m.address!==e.address&&(n.address=e.address),console.log(n),!n.first_name&&!n.last_name&&!n.password&&!n.phone&&!n.name&&!n.city&&!n.address)return R("Nie dokonano \u017cadnych zmian",{variant:"warning"}),void z(!1);A({variables:n}).then((function(e){var a,n;(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.updateCompanyProfile)&&(console.log(e),R("Zauktualizowano pomy\u015blnie.",{variant:"success"}),u(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.updateCompanyProfile));z(!1)})).catch((function(e){z(!1),D(e)}))}if(h)if(e.password!==e.confirmPassword)R("Has\u0142a musz\u0105 by\u0107 takie same.",{variant:"error"});else if(e.password.length<8&&e.password.length>0)R("Has\u0142o musi mie\u0107 przynajmniej 8 znak\xf3w.",{variant:"error"});else if(e.first_name.length<3||e.last_name.length<3)R("Imi\u0119 i nazwisko, musz\u0105 mie\u0107 przynajmniej 3 znaki.",{variant:"error"});else{var t={};if(h.first_name!==e.first_name&&(t.first_name=e.first_name),h.last_name!==e.last_name&&(t.last_name=e.last_name),e.password.length>0&&(t.password=e.password,t.confirmPassword=e.confirmPassword),!t.first_name&&!t.last_name&&!t.password)return R("Nie dokonano \u017cadnych zmian",{variant:"warning"}),void z(!1);P({variables:t}).then((function(e){var a,n;(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.updatePracticeSuperviserProfile)&&(console.log(e),R("Zauktualizowano pomy\u015blnie.",{variant:"success"}),O(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.updatePracticeSuperviserProfile));z(!1)})).catch((function(e){z(!1),D(e)}))}}))},"Zapisz"))),r.a.createElement("div",{className:ba.a.errors},n.header&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Nag\u0142\xf3wek jest wymagany"),n.company_name&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Nazwa firmy jest wymagana"),n.slots&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Miejsca s\u0105 wymagane"),n.technologies&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Technologie s\u0105 wymagane"),(n.from||n.to)&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Podaj poprawny przedzia\u0142 czasowy"),n.email&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Adres email jest niepoprawny"))))},ha=n(216),ya=n.n(ha),Oa=function(){return r.a.createElement("div",{className:ya.a.container},r.a.createElement("div",{className:ya.a.content},r.a.createElement("h2",null,"B\u0142\u0119dny adres url"),r.a.createElement("span",null,"404")))},ja=Object(o.gql)(H||(H=Object(W.a)(["\n  query meStudent {\n    meStudent {\n      email\n      first_name\n      last_name\n      index_number\n    }\n  }\n"]))),wa=function(){var e=Object(s.c)(ne),a=Object(v.a)(e,2),n=a[0],l=a[1],c=Object(o.useLazyQuery)(ja),i=Object(v.a)(c,2),m=i[0],u=i[1],d=u.data,f=(u.loading,u.error,Object(p.g)());return Object(t.useEffect)((function(){n||m()}),[n,m]),Object(t.useEffect)((function(){d&&(d.meStudent||f.push("/logout"),l(d.meStudent))}),[d,l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/"},r.a.createElement(pa,null)),r.a.createElement(p.b,{path:"/mypractice"},r.a.createElement(Ve,null)),r.a.createElement(p.b,{exact:!0,path:"/profile"},r.a.createElement(ga,null)),r.a.createElement(p.b,null,r.a.createElement(Oa,null))))};n(564);var ka,za,Sa=n(114),Na=function(e){var a=e.children,n=e.userType,t=Object(Sa.a)(e,["children","userType"]),l=K().userType;return r.a.createElement(p.b,Object.assign({},t,{render:function(e){e.location;return l===n?a:null}}))},Ca=function(e){var a=e.children,n=Object(Sa.a)(e,["children"]),t=K(),l=t.userType,c=t.removeToken,o=t.removeUserType;return r.a.createElement(p.b,Object.assign({},n,{render:function(e){var n=e.location;return l?a:function(e,a,n){return a(),n(),r.a.createElement(p.a,{to:{pathname:"/login",state:{from:e}}})}(n,c,o)}}))},$a=Object(o.gql)(ka||(ka=Object(W.a)(["\n  query practiceAnnouncements {\n    practiceAnnouncements {\n      id\n      header\n      slots\n      technologies\n      description\n      to\n      from\n      accepted\n      email\n      phone\n      company_name\n      updatedAt\n      Company {\n        name\n        first_name\n        last_name\n        color\n      }\n    }\n  }\n"]))),Aa=n(121),Ta=n.n(Aa),Pa=Object(o.gql)(za||(za=Object(W.a)(["\n  mutation createPracticeAnnouncement(\n    $header: String!\n    $slots: Int!\n    $technologies: String!\n    $description: String\n    $from: Date!\n    $to: Date!\n    $email: String\n    $phone: String\n    $company_name: String\n  ) {\n    createPracticeAnnouncement(\n      header: $header\n      slots: $slots\n      technologies: $technologies\n      description: $description\n      from: $from\n      to: $to\n      phone: $phone\n      email: $email\n      company_name: $company_name\n    ) {\n      header\n      slots\n      description\n      technologies\n      from\n      to\n    }\n  }\n"]))),Ma=function(e){var a=Object(_.a)(),n=a.register,l=a.errors,c=a.handleSubmit,i=ee(),m=Object(v.a)(i,2),u=m[0],d=m[1],p=Object(o.useMutation)(Pa),f=Object(v.a)(p,1)[0],b=Object(t.useState)(!1),E=Object(v.a)(b,2),g=E[0],O=E[1],j=Object(s.d)(te),w=e.setOpenModal,k=e.refetch;return r.a.createElement(Fe,Object.assign({},e,{header:"Dodaj og\u0142oszenie",isLoading:g,buttons:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{preset:"bright",onClick:function(){return w(!1)}},"Zamknij"),r.a.createElement("button",{onClick:c((function(e){var a;O(!0),f({variables:{header:e.header,slots:e.slots?parseInt(e.slots):0,technologies:e.technologies,description:e.description,from:e.from,to:e.to,phone:null!==(a=null===j||void 0===j?void 0:j.phone)&&void 0!==a?a:e.phone,email:j?j.email:e.email,company_name:j?j.name:e.company_name}}).then((function(){O(!1),k(),d("Og\u0142oszenie dodano pomy\u015blnie",{variant:"success"}),w(!1)})).catch((function(e){console.log(e),u(e),O(!1)}))}))},"Dodaj og\u0142oszenie")," ")}),r.a.createElement("div",{className:Ta.a.container},r.a.createElement("div",{className:Ta.a.content},r.a.createElement("div",{className:Ta.a.inputGroup},r.a.createElement(S,{inputRef:n({required:!0}),label:"Nag\u0142\xf3wek*",labelOnTop:!0,name:"header",placeholder:"Praktyki na stanowisku..."}),j?r.a.createElement("div",null,r.a.createElement("label",null,"Nazwa firmy"),r.a.createElement("br",null),r.a.createElement("span",null,j.name)):r.a.createElement(S,{label:"Nazwa firmy*",labelOnTop:!0,inputRef:n({required:!0}),name:"company_name",placeholder:"Example z.o.o"}),r.a.createElement(S,{label:"Miejsca*",type:"number",labelOnTop:!0,inputRef:n({required:!0}),name:"slots",defaultValue:1}),r.a.createElement(S,{label:"Technologie*",labelOnTop:!0,inputRef:n({required:!0}),name:"technologies",placeholder:"Java, C++, c#"}),j?r.a.createElement("div",null,r.a.createElement("label",null,"Email"),r.a.createElement("br",null),r.a.createElement("span",null,j.email)):r.a.createElement(S,{label:"Email",labelOnTop:!0,inputRef:n({validate:function(e){return!e||h.a.isEmail(e)}}),name:"email",placeholder:"jk@example.com"}),(null===j||void 0===j?void 0:j.phone)?r.a.createElement("div",null,r.a.createElement("label",null,"Phone"),r.a.createElement("br",null),r.a.createElement("span",null,j.phone)):r.a.createElement(S,{label:"Telefon",labelOnTop:!0,inputRef:n,name:"phone",placeholder:"678 890 ..."}))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(la,{label:"Opis",name:"description",labelOnTop:!0,inputRef:n})),r.a.createElement("div",{className:Ta.a.fromToWrapper},r.a.createElement("label",null,"Przedzia\u0142 czasowy"),r.a.createElement(S,{type:"date",label:"Od*",inputRef:n({required:!0}),name:"from"}),r.a.createElement(S,{type:"date",label:"Do*",inputRef:n({required:!0}),name:"to"})))),r.a.createElement("div",{className:Ta.a.errors},l.header&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Nag\u0142\xf3wek jest wymagany"),l.company_name&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Nazwa firmy jest wymagana"),l.slots&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Miejsca s\u0105 wymagane"),l.technologies&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Technologie s\u0105 wymagane"),(l.from||l.to)&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Podaj poprawny przedzia\u0142 czasowy"),l.email&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Adres email jest niepoprawny")))},xa=n(622),Da=n(619),Ra=n(217),Ia=n.n(Ra),Fa=function(e){return r.a.createElement(xa.a,Object.assign({},e,{className:Ia.a.tabs}),e.children)};Fa.Tab=function(e){return r.a.createElement(Da.a,Object.assign({},e,{className:Ia.a.tab}),e.children)};var qa,La,Ua,Ya,Ga,Za,Ba,Ha,Va,Wa,Qa,Ja,Xa,Ka=Fa,en=n(218),an=n.n(en),nn=n(621),tn=n(337),rn=n.n(tn),ln=function(e){return r.a.createElement(nn.a,Object.assign({},e,{variant:"outlined",className:Object(z.a)(rn.a.search,null===e||void 0===e?void 0:e.className),label:"Szukaj"}))},cn=function(e,a){a=a.toLowerCase();var n=e.map((function(e){return String(e).toLowerCase()})),t=!1;return n.forEach((function(e){e.includes(a)&&(t=!0)})),t},on=function(){var e=Object(o.useQuery)($a),a=e.loading,n=e.error,l=e.data,c=e.refetch,i=Object(t.useState)(!1),m=Object(v.a)(i,2),s=m[0],u=m[1],d=Object(t.useState)(0),p=Object(v.a)(d,2),f=p[0],b=p[1],E=Object(t.useState)([]),_=Object(v.a)(E,2),g=_[0],h=_[1],y=Object(t.useState)(""),O=Object(v.a)(y,2),j=O[0],w=O[1];return Object(t.useEffect)((function(){l&&h(l.practiceAnnouncements)}),[l]),a?r.a.createElement(Oe,null):n?"error":r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,{title:"Og\u0142oszenia praktyk",button:r.a.createElement("button",{onClick:function(){return u(!0)}},"Dodaj og\u0142oszenie")},r.a.createElement("div",{className:an.a.tabs},r.a.createElement(Ka,{value:f,indicatorColor:"primary",textColor:"primary",onChange:function(e,a){return b(a)}},r.a.createElement(Ka.Tab,{label:"Zatwierdzone"}),r.a.createElement(Ka.Tab,{label:"Oczekuj\u0105ce"})),r.a.createElement(ln,{className:an.a.searchInput,value:j,onChange:function(e){return w(e.target.value)}})),g.map((function(e,a){return(0===f&&e.accepted||1===f&&!e.accepted)&&cn([e.email,e.company_name,e.header,e.phone,e.technologies],j)?r.a.createElement(ua,Object.assign({key:a},e,{announcements:g,setAnnouncements:h,refetch:c})):null}))),s&&r.a.createElement(Ma,{open:s,setOpenModal:u,refetch:c}))},mn=Object(o.gql)(qa||(qa=Object(W.a)(["\n  query agreements($year: Date) {\n    agreements(year: $year) {\n      id\n      address\n      city\n      email\n      company_name\n      phone\n      from\n      to\n      accepted\n      Student {\n        id\n        index_number\n        first_name\n        last_name\n        email\n        color\n      }\n      DocumentFiles {\n        id\n        status\n        type\n      }\n      Company {\n        id\n        name\n        first_name\n        last_name\n        color\n      }\n      company_accepted\n    }\n  }\n"]))),sn=n(141),un=n.n(sn),dn=n(625),pn=n(84),fn=n.n(pn),bn=Object(o.gql)(La||(La=Object(W.a)(["\n  mutation deletePracticeAgreement($id: ID!) {\n    deletePracticeAgreement(id: $id)\n  }\n"]))),En=Object(o.gql)(Ua||(Ua=Object(W.a)(["\n  mutation confirmPracticeAgreement($id: ID!) {\n    confirmPracticeAgreement(id: $id) {\n      id\n    }\n  }\n"]))),vn=Object(o.gql)(Ya||(Ya=Object(W.a)(["\n  mutation changeDocumentFileStatus(\n    $id: ID!\n    $status: Status!\n    $rejectNote: String\n  ) {\n    changeDocumentFileStatus(\n      id: $id\n      status: $status\n      rejectNote: $rejectNote\n    ) {\n      id\n      status\n      type\n      rejectNote\n    }\n  }\n"]))),_n={accepted:{value:"accepted",label:"Zatwierdzono",icon:r.a.createElement(fe,null)},rejected:{value:"rejected",label:"Odrzucono",icon:r.a.createElement(be,null)}},gn=function(e){var a,n,l=e.id,c=e.company_name,i=e.city,s=e.address,u=e.email,d=e.phone,p=e.Student,f=e.from,_=e.to,g=(e.color,e.accepted),h=e.agreements,y=e.setAgreements,O=e.DocumentFiles,j=e.refetch,w=e.company_accepted,k=e.Company,z=(e.className,Object(o.useMutation)(En)),S=Object(v.a)(z,1)[0],N=Object(o.useMutation)(bn),C=Object(v.a)(N,1)[0],$=Object(o.useMutation)(vn),A=Object(v.a)($,1)[0],T=K().token,P=Object(t.useState)(""),M=Object(v.a)(P,2),x=M[0],D=M[1],R=Object(t.useState)(!1),I=Object(v.a)(R,2),F=I[0],q=I[1],L=Object(t.useState)(!1),U=Object(v.a)(L,2),Y=U[0],G=U[1],Z=Object(t.useState)(!1),B=Object(v.a)(Z,2),H=B[0],V=B[1],W=Object(t.useState)(!1),Q=Object(v.a)(W,2),J=Q[0],X=Q[1],ee=Object(t.useState)(!1),ae=Object(v.a)(ee,2),ne=ae[0],te=ae[1],re=Object(m.b)().enqueueSnackbar,le=O.find((function(e){return"journal"===e.type})),ce=O.find((function(e){return"agreement"===e.type})),oe=O.find((function(e){return"personalData"===e.type})),me=function(){var e=Object(E.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C({variables:{id:l}});case 2:e.sent?(re("Usuni\u0119to pomy\u015blnie",{variant:"success"}),q(!1),y(h.filter((function(e){return e.id!==l})))):re("Wyst\u0105pi\u0142 problem",{variant:"error"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(e,a){te(!0),A({variables:{id:le.id,status:e?_n.accepted.value:_n.rejected.value,rejectNote:a}}).then((function(e){e&&(Y&&G(!1),J&&X(!1),j()),te(!1)})).catch((function(e){re("Wyst\u0105pi\u0142 problem",{variant:"error"}),te(!1),Y&&G(!1),J&&X(!1)}))};return r.a.createElement(r.a.Fragment,null,ne&&r.a.createElement(Oe,{global:!0}),r.a.createElement(ue,{className:fn.a.container},r.a.createElement("div",{className:fn.a.block},r.a.createElement("div",{className:fn.a.avatar}," ",r.a.createElement(dn.a,{style:{backgroundColor:p.color}},p.first_name.charAt(0),p.last_name.charAt(0)),r.a.createElement("h2",null,"".concat(p.first_name," ").concat(p.last_name))),r.a.createElement("span",null,r.a.createElement("span",null,"Okres wykonywania praktyki:")," Od"," ",ie()(f).format("DD/MM/YYYY")," do"," ",ie()(_).format("DD/MM/YYYY")),r.a.createElement("span",null,r.a.createElement("span",null,"Numer indeksu: ")," ",p.index_number),r.a.createElement("span",null,r.a.createElement("span",null,"Email:")," ",p.email),k&&r.a.createElement("span",null,r.a.createElement("span",null,"Zgoda firmy: "),w?r.a.createElement(fe,null):!1===w?r.a.createElement(be,null):"Brak"),r.a.createElement("span",null,r.a.createElement("span",null,"Status dziennika: "),null!==(a=null===(n=_n[null===le||void 0===le?void 0:le.status])||void 0===n?void 0:n.icon)&&void 0!==a?a:"Brak"),r.a.createElement("div",{className:fn.a.buttons},!g&&r.a.createElement("button",{onClick:function(){ce&&oe?k&&!w?re("Umowa musi by\u0107 najpierw zatwierdzona przez firm\u0119.",{variant:"warning"}):V(!0):re("Nie mo\u017cesz zatwierdzi\u0107 umowy, brak dokument\xf3w.",{variant:"warning"})}},"Zatwierd\u017a"),r.a.createElement("button",{preset:"red",onClick:function(){return q(!0)}},"Usu\u0144"),le&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{preset:"bright",onClick:function(){return te(!0),fetch("".concat(je,"/uploads/").concat(le.id),{headers:new Headers({Authorization:T})}).then((function(e){return e.blob()})).then((function(e){var a=window.URL.createObjectURL(e);window.open(a),te(!1)})).catch((function(e){console.error(e),te(!1)}))}},"Dziennik"),le&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return G(!0)}},"Zatwierd\u017a dziennik"),r.a.createElement("button",{preset:"bright",onClick:function(){return X(!0)}},"Odrzu\u0107 dziennik"))))),r.a.createElement("div",{className:fn.a.block},r.a.createElement("h3",null,"Dane firmy"),k&&r.a.createElement(ze,{color:k.color,className:fn.a.companyAvatar},k.name.charAt(0),"-",k.first_name.charAt(0),k.last_name.charAt(0)),r.a.createElement("span",null,r.a.createElement("span",null,"Nazwa firmy: "),c),r.a.createElement("span",null,r.a.createElement("span",null,"Email: "),u),r.a.createElement("span",null,r.a.createElement("span",null,"Telefon: "),d),r.a.createElement("span",null,r.a.createElement("span",null,"Miejscowo\u015b\u0107: "),i),r.a.createElement("span",null,r.a.createElement("span",null,"Adres: "),s),r.a.createElement("br",null),(null===le||void 0===le?void 0:le.accepted)&&r.a.createElement("span",null,"Dziennik zatwierdzony ",r.a.createElement(fe,null))),r.a.createElement("div",{className:fn.a.block},r.a.createElement("h3",null,"Dokumenty"),r.a.createElement("div",{className:fn.a.agreements},ce&&r.a.createElement("button",{onClick:function(){return te(!0),fetch("".concat(je,"/uploads/").concat(ce.id),{headers:new Headers({Authorization:T})}).then((function(e){return e.blob()})).then((function(e){var a=window.URL.createObjectURL(e);window.open(a),te(!1)})).catch((function(e){console.error(e),te(!1)}))}},"Umowa o praktyki"),oe&&r.a.createElement("button",{onClick:function(){return te(!0),fetch("".concat(je,"/uploads/").concat(oe.id),{headers:new Headers({Authorization:T})}).then((function(e){return e.blob()})).then((function(e){var a=window.URL.createObjectURL(e);window.open(a),te(!1)})).catch((function(e){console.error(e),te(!1)}))}},"Umowa o danych osobowych")))),F&&r.a.createElement(ea,{open:F,setOpenModal:q,onDecline:function(){return q(!1)},onConfirm:me},"Czy na pewno chcesz usun\u0105\u0107 t\u0105 umowe?",r.a.createElement("br",null),"Tej operacji nie da si\u0119 cofn\u0105\u0107."),H&&r.a.createElement(ea,{open:H,setOpenModal:V,onDecline:function(){return V(!1)},onConfirm:function(){S({variables:{id:l}}).then((function(e){e&&(re("Zatwierdzono pomy\u015blnie",{variant:"success"}),y(h.map((function(e){return e.id===l?Object(We.a)(Object(We.a)({},e),{},{accepted:!0}):e}))))}))}},"Czy na pewno chcesz zatwierdzi\u0107 t\u0119 umow\u0119?",r.a.createElement("br",null),"Tej operacji nie da si\u0119 cofn\u0105\u0107."),Y&&r.a.createElement(ea,{open:Y,setOpenModal:G,onDecline:function(){return G(!1)},onConfirm:function(){return se(!0)}},"Czy na pewno chcesz zatwierdzi\u0107 dziennik?",r.a.createElement("br",null),"Tej operacji nie da si\u0119 cofn\u0105\u0107."),J&&r.a.createElement(ea,{open:J,setOpenModal:G,onDecline:function(){return X(!1)},onConfirm:function(){return se(!1,x)},component:!0},r.a.createElement(la,{label:"Podaj pow\xf3d odrzucenia",name:"description",onChange:function(e){return D(e.target.value)},labelOnTop:!0})))},hn=n(338),yn=n.n(hn),On=function(e){var a=e.className,n=e.onChange,t=e.year,l=(new Date).getFullYear(),c=Array.from(new Array(16),(function(e,a){return a-8+Number(l)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("select",{className:Object(z.a)(yn.a.yearPicker,a),onChange:function(e){return n&&n(e.target.value)},value:t},c.map((function(e,a){return r.a.createElement("option",{key:"year".concat(a),value:e},e)}))))},jn=function(){var e=K().userType,a=Object(s.c)(le),n=Object(v.a)(a,2),l=n[0],c=n[1],i=Object(o.useQuery)(mn,{variables:{year:l}}),m=i.loading,u=(i.error,i.data),d=i.refetch,f=Object(t.useState)(0),b=Object(v.a)(f,2),E=b[0],_=b[1],g=Object(t.useState)([]),h=Object(v.a)(g,2),y=h[0],O=h[1],j=Object(t.useState)(""),w=Object(v.a)(j,2),k=w[0],z=w[1];Object(t.useEffect)((function(){u&&O(u.agreements)}),[u]);var S=function(e){return r.a.createElement(r.a.Fragment,null,y.map((function(a){return cn([a.Student.index_number,a.Student.first_name,a.Student.last_name,a.company_name,a.email,a.Student.email],k)?(e?a.accepted:!a.accepted)&&r.a.createElement(gn,Object.assign({key:a.id},a,{agreements:y,setAgreements:O,refetch:d})):null})))};return e!==ae.practiceSuperviser?r.a.createElement(p.a,{to:"/"}):m?r.a.createElement(Oe,{global:!0}):r.a.createElement(r.a.Fragment,null,m&&r.a.createElement(Oe,{global:!0}),r.a.createElement(Te,{title:"Umowy"},r.a.createElement("div",{className:un.a.tabs},r.a.createElement(Ka,{value:E,indicatorColor:"primary",textColor:"primary",onChange:function(e,a){return _(a)}},r.a.createElement(Ka.Tab,{label:"Zatwierdzone"}),r.a.createElement(Ka.Tab,{label:"Oczekuj\u0105ce"})),r.a.createElement("div",null,r.a.createElement(On,{className:un.a.yearPicker,onChange:c,year:l}),r.a.createElement(ln,{className:un.a.searchInput,value:k,onChange:function(e){return z(e.target.value)}}))),r.a.createElement("div",{className:un.a.agreements},0===E&&S(!0),1===E&&S(!1))))},wn=n(219),kn=n.n(wn),zn=function(e){var a=e.first_name,n=e.last_name,t=e.index_number,l=e.email,c=e.color;return r.a.createElement(ue,{className:kn.a.container},r.a.createElement("div",{className:kn.a.avatar},r.a.createElement(dn.a,{style:{backgroundColor:c}},a.charAt(0),n.charAt(0)),r.a.createElement("h3",null,"".concat(a," ").concat(n))),r.a.createElement("span",null,r.a.createElement("span",null,"Email:")," ",l),r.a.createElement("span",null,r.a.createElement("span",null,"Numer indeksu:")," ",t))},Sn=n(339),Nn=n.n(Sn),Cn=Object(o.gql)(Ga||(Ga=Object(W.a)(["\n  query students($year: Date) {\n    students(year: $year) {\n      id\n      index_number\n      email\n      first_name\n      last_name\n      color\n    }\n  }\n"]))),$n=function(e){var a=e.search,n=e.yearFilter,t=Object(o.useQuery)(Cn,{variables:{year:n}}),l=t.loading,c=t.error,i=t.data;return l?r.a.createElement(Oe,null):c?"error":r.a.createElement("div",{className:Nn.a.studentsList},i.students.map((function(e){var n=e.first_name,t=e.last_name,l=e.email,c=e.index_number,o=e.color,i=e.id;return cn([n,t,l,c],a)?r.a.createElement(zn,{key:i,first_name:n,last_name:t,email:l,index_number:c,color:o}):null})))},An=n(220),Tn=n.n(An),Pn=function(e){e.id;var a=e.name,n=e.city,t=e.address,l=e.email,c=e.first_name,o=e.last_name,i=e.color;return r.a.createElement(ue,{className:Tn.a.container},r.a.createElement("div",{className:Tn.a.avatar},r.a.createElement(ze,{color:i},a.charAt(0),"-",c.charAt(0),o.charAt(0)),r.a.createElement("h3",null,a)),r.a.createElement("span",null,r.a.createElement("span",null,"Przedstawiciel:")," ","".concat(c," ").concat(o)),r.a.createElement("span",null,r.a.createElement("span",null,"Email:")," ",l),r.a.createElement("span",null,r.a.createElement("span",null,"Miejscowo\u015b\u0107:")," ",n),r.a.createElement("span",null,r.a.createElement("span",null,"Adres:")," ",t))},Mn=n(340),xn=n.n(Mn),Dn=Object(o.gql)(Za||(Za=Object(W.a)(["\n  query companies($year: Date) {\n    companies(year: $year) {\n      id\n      name\n      city\n      address\n      email\n      first_name\n      last_name\n      color\n    }\n  }\n"]))),Rn=function(e){var a=e.search,n=e.yearFilter,t=Object(o.useQuery)(Dn,{variables:{year:n}}),l=t.loading,c=t.error,i=t.data;return l?r.a.createElement(Oe,null):c?"error":r.a.createElement("div",{className:xn.a.companiesList},i.companies.map((function(e){var n=e.id,t=e.name,l=e.city,c=e.address,o=e.email,i=e.first_name,m=e.last_name,s=e.color;return cn([t,o,i,m],a)?r.a.createElement(Pn,{key:n,first_name:i,last_name:m,email:o,address:c,city:l,name:t,color:s}):null})))},In=n(180),Fn=n.n(In),qn=n(142),Ln=n.n(qn),Un=Object(o.gql)(Ba||(Ba=Object(W.a)(["\n  mutation createInvite($email: String!, $userType: String!) {\n    createInvite(email: $email, userType: $userType) {\n      email\n      userType\n    }\n  }\n"]))),Yn=function(e){var a=Object(_.a)(),n=a.register,l=a.errors,c=a.handleSubmit,i=ee(),m=Object(v.a)(i,2),s=m[0],u=m[1],d=Object(o.useMutation)(Un),p=Object(v.a)(d,1)[0],f=Object(t.useState)(!1),b=Object(v.a)(f,2),E=b[0],g=b[1],O=e.setOpenModal;return r.a.createElement(Fe,Object.assign({},e,{header:"Dodaj u\u017cytkownika",isLoading:E,buttons:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{preset:"bright",onClick:function(){return O(!1)}},"Zamknij"),r.a.createElement("button",{onClick:c((function(e){g(!0),p({variables:{email:e.email,userType:e.userType}}).then((function(e){e&&u("Zaproszenie wys\u0142ano pomy\u015blnie",{variant:"success"}),g(!1),O(!1)})).catch((function(e){s(e),g(!1)}))}))},"Wy\u015blij zaproszenie"))}),r.a.createElement("div",{className:Ln.a.container},r.a.createElement("div",{className:Ln.a.content},r.a.createElement("div",{className:Ln.a.inputGroup},r.a.createElement($,{inputRef:n,options:[{label:"Student",value:ae.student},{label:"Opiekun praktyk",value:ae.practiceSuperviser},{label:"Firma",value:ae.company}],label:"Typ u\u017cytkownika*",name:"userType",labelOnTop:!0}),r.a.createElement(S,{inputRef:n({required:!0,validate:h.a.isEmail}),label:"Adres email*",labelOnTop:!0,name:"email",placeholder:"jk@example.com"})))),r.a.createElement("div",{className:Ln.a.errors},l.email&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Adres email jest niepoprawny")))},Gn=function(){var e=K().userType,a=Object(t.useState)(!1),n=Object(v.a)(a,2),l=n[0],c=n[1],o=Object(t.useState)(""),i=Object(v.a)(o,2),m=i[0],u=i[1],d=Object(t.useState)(0),f=Object(v.a)(d,2),b=f[0],E=f[1],_=Object(s.c)(le),g=Object(v.a)(_,2),h=g[0],y=g[1];return e!==ae.practiceSuperviser?r.a.createElement(p.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,{title:"U\u017cytkownicy",button:r.a.createElement("button",{onClick:function(){return c(!0)}},"Dodaj u\u017cytkownika")},r.a.createElement("div",{className:Fn.a.tabs},r.a.createElement(Ka,{value:b,indicatorColor:"primary",textColor:"primary",onChange:function(e,a){return E(a)}},r.a.createElement(Ka.Tab,{label:"Studenci"}),r.a.createElement(Ka.Tab,{label:"Firmy"})),r.a.createElement("div",null,r.a.createElement(On,{className:Fn.a.yearPicker,onChange:y,year:h}),r.a.createElement(ln,{className:Fn.a.searchInput,value:m,onChange:function(e){return u(e.target.value)}}))),0===b&&r.a.createElement($n,{search:m,yearFilter:h}),1===b&&r.a.createElement(Rn,{search:m,yearFilter:h})),l&&r.a.createElement(Yn,{open:l,setOpenModal:c}))},Zn=Object(o.gql)(Ha||(Ha=Object(W.a)(["\n  query mePracticeSuperviser {\n    mePracticeSuperviser {\n      email\n      first_name\n      last_name\n    }\n  }\n"]))),Bn=function(){var e=Object(p.g)(),a=Object(s.c)(re),n=Object(v.a)(a,2),l=n[0],c=n[1],i=Object(o.useLazyQuery)(Zn),m=Object(v.a)(i,2),u=m[0],d=m[1].data;return Object(t.useEffect)((function(){l||u()}),[l,u]),Object(t.useEffect)((function(){d&&(d.mePracticeSuperviser||e.push("/logout"),c(d.mePracticeSuperviser))}),[d,c]),r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/"},r.a.createElement(on,null)),r.a.createElement(p.b,{exact:!0,path:"/users"},r.a.createElement(Gn,null)),r.a.createElement(p.b,{exact:!0,path:"/agreements"},r.a.createElement(jn,null)),r.a.createElement(p.b,{exact:!0,path:"/profile"},r.a.createElement(ga,null)),r.a.createElement(p.b,null,r.a.createElement(Oa,null))))},Hn=(n(566),Object(o.gql)(Va||(Va=Object(W.a)(["\n  query practiceAnnouncements {\n    practiceAnnouncements {\n      id\n      header\n      slots\n      technologies\n      description\n      to\n      from\n      accepted\n      phone\n      email\n      company_name\n      CompanyId\n      updatedAt\n      Company {\n        name\n        first_name\n        last_name\n        color\n      }\n    }\n  }\n"])))),Vn=n(341),Wn=n.n(Vn),Qn=function(){var e=Object(o.useQuery)(Hn),a=e.loading,n=e.error,l=e.data,c=e.refetch,i=Object(t.useState)(!1),m=Object(v.a)(i,2),u=m[0],d=m[1],p=Object(t.useState)([]),f=Object(v.a)(p,2),b=f[0],E=f[1],_=Object(t.useState)(0),g=Object(v.a)(_,2),h=g[0],y=g[1],O=Object(s.c)(te),j=Object(v.a)(O,1)[0];return Object(t.useEffect)((function(){l&&E(l.practiceAnnouncements)}),[l]),a?r.a.createElement(Oe,null):n?"error":r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,{title:"Og\u0142oszenia praktyk",button:r.a.createElement("button",{onClick:function(){return d(!0)}},"Dodaj og\u0142oszenie")},r.a.createElement("div",{className:Wn.a.tabs},r.a.createElement(Ka,{value:h,indicatorColor:"primary",textColor:"primary",onChange:function(e,a){return y(a)}},r.a.createElement(Ka.Tab,{label:"Wszystkie og\u0142oszenia"}),r.a.createElement(Ka.Tab,{label:"Moje og\u0142oszenia"}))),b.map((function(e,a){return 0===h||1===h&&(null===j||void 0===j?void 0:j.id)===e.CompanyId?r.a.createElement(ua,Object.assign({refetch:c,key:a},e,{announcements:b,setAnnouncements:E})):null}))),u&&r.a.createElement(Ma,{open:u,setOpenModal:d,refetch:c}))},Jn=Object(o.gql)(Wa||(Wa=Object(W.a)(["\n  query agreements($year: Date) {\n    agreements(year: $year) {\n      id\n      address\n      city\n      email\n      company_name\n      phone\n      from\n      to\n      accepted\n      Student {\n        id\n        index_number\n        first_name\n        last_name\n        email\n        color\n      }\n      DocumentFiles {\n        id\n        status\n        type\n      }\n      Company {\n        id\n      }\n      company_accepted\n    }\n  }\n"]))),Xn=n(143),Kn=n.n(Xn),et=n(101),at=n.n(et),nt=Object(o.gql)(Qa||(Qa=Object(W.a)(["\n  mutation rejectCompanyAgreement($id: ID!) {\n    rejectCompanyAgreement(id: $id) {\n      id\n    }\n  }\n"]))),tt=Object(o.gql)(Ja||(Ja=Object(W.a)(["\n  mutation confirmPracticeAgreement($id: ID!) {\n    confirmPracticeAgreement(id: $id) {\n      id\n    }\n  }\n"]))),rt=function(e){var a=e.id,n=(e.company_name,e.city,e.address,e.email,e.phone,e.Student),l=e.from,c=e.to,i=(e.color,e.accepted,e.agreements),s=e.setAgreements,u=e.DocumentFiles,d=e.refetch,p=e.company_accepted,f=(e.Company,e.className,Object(o.useMutation)(tt)),b=Object(v.a)(f,1)[0],E=Object(o.useMutation)(nt),_=Object(v.a)(E,1)[0],g=K().token,h=Object(t.useState)(!1),y=Object(v.a)(h,2),O=y[0],j=y[1],w=Object(t.useState)(!1),k=Object(v.a)(w,2),z=k[0],S=k[1],N=Object(t.useState)(!1),C=Object(v.a)(N,2),$=C[0],A=C[1],T=Object(m.b)().enqueueSnackbar,P=u.find((function(e){return"journal"===e.type})),M=u.find((function(e){return"agreement"===e.type})),x=u.find((function(e){return"personalData"===e.type}));return r.a.createElement(r.a.Fragment,null,$&&r.a.createElement(Oe,{global:!0}),r.a.createElement(ue,{className:at.a.container},r.a.createElement("div",{className:at.a.block},r.a.createElement("div",{className:at.a.avatar}," ",r.a.createElement(dn.a,{style:{backgroundColor:n.color}},n.first_name.charAt(0),n.last_name.charAt(0)),r.a.createElement("h2",null,"".concat(n.first_name," ").concat(n.last_name))),r.a.createElement("span",null,r.a.createElement("span",null,"Okres wykonywania praktyki:")," Od"," ",ie()(l).format("DD/MM/YYYY")," do"," ",ie()(c).format("DD/MM/YYYY")),r.a.createElement("span",null,r.a.createElement("span",null,"Numer indeksu: ")," ",n.index_number),r.a.createElement("span",null,r.a.createElement("span",null,"Email:")," ",n.email),r.a.createElement("div",{className:at.a.buttons},!p&&r.a.createElement("button",{onClick:function(){j(!0)}},"Zatwierd\u017a"),null===p&&r.a.createElement("button",{preset:"red",onClick:function(){return S(!0)}},"Odrzu\u0107"))),r.a.createElement("div",{className:at.a.block},r.a.createElement("h3",null,"Dokumenty"),r.a.createElement("div",{className:at.a.agreements},M&&r.a.createElement("button",{onClick:function(){return A(!0),fetch("".concat(je,"/uploads/").concat(M.id),{headers:new Headers({Authorization:g})}).then((function(e){return e.blob()})).then((function(e){var a=window.URL.createObjectURL(e);window.open(a),A(!1)})).catch((function(e){console.error(e),A(!1)}))}},"Umowa o praktyki"),x&&r.a.createElement("button",{onClick:function(){return A(!0),fetch("".concat(je,"/uploads/").concat(x.id),{headers:new Headers({Authorization:g})}).then((function(e){return e.blob()})).then((function(e){var a=window.URL.createObjectURL(e);window.open(a),A(!1)})).catch((function(e){console.error(e),A(!1)}))}},"Umowa o danych osobowych"),P&&r.a.createElement("button",{onClick:function(){return A(!0),fetch("".concat(je,"/uploads/").concat(P.id),{headers:new Headers({Authorization:g})}).then((function(e){return e.blob()})).then((function(e){var a=window.URL.createObjectURL(e);window.open(a),A(!1)})).catch((function(e){console.error(e),A(!1)}))}},"Dziennik")))),z&&r.a.createElement(ea,{open:z,setOpenModal:S,onDecline:function(){return S(!1)},onConfirm:function(){_({variables:{id:a}}).then((function(e){e&&(T("Odrzucono pomy\u015blnie",{variant:"success"}),s(i.map((function(e){return e.id===a?Object(We.a)(Object(We.a)({},e),{},{accepted:!1}):e}))),S(!1),d())}))}},"Czy na pewno chcesz odrzuci\u0107 t\u0105 umowe?",r.a.createElement("br",null),"Tej operacji nie da si\u0119 cofn\u0105\u0107."),O&&r.a.createElement(ea,{open:O,setOpenModal:j,onDecline:function(){return j(!1)},onConfirm:function(){b({variables:{id:a}}).then((function(e){e&&(T("Zatwierdzono pomy\u015blnie",{variant:"success"}),s(i.map((function(e){return e.id===a?Object(We.a)(Object(We.a)({},e),{},{accepted:!0}):e}))),j(!1),d())}))}},"Czy na pewno chcesz zatwierdzi\u0107 t\u0119 umow\u0119?",r.a.createElement("br",null),"Tej operacji nie da si\u0119 cofn\u0105\u0107."))},lt=function(){var e=K().userType,a=Object(s.c)(le),n=Object(v.a)(a,2),l=n[0],c=n[1],i=Object(o.useQuery)(Jn,{variables:{year:l}}),m=i.loading,u=(i.error,i.data),d=i.refetch,f=Object(t.useState)(0),b=Object(v.a)(f,2),E=b[0],_=b[1],g=Object(t.useState)([]),h=Object(v.a)(g,2),y=h[0],O=h[1],j=Object(t.useState)(""),w=Object(v.a)(j,2),k=w[0],z=w[1];Object(t.useEffect)((function(){u&&O(u.agreements)}),[u]);var S=function(e){return r.a.createElement(r.a.Fragment,null,y.map((function(a){return cn([a.Student.index_number,a.Student.first_name,a.Student.last_name,a.company_name,a.email,a.Student.email],k)?(e?a.company_accepted:null===a.company_accepted)&&r.a.createElement(rt,Object.assign({key:a.id},a,{agreements:y,setAgreements:O,refetch:d})):null})))};return e!==ae.company?r.a.createElement(p.a,{to:"/"}):m?r.a.createElement(Oe,{global:!0}):r.a.createElement(r.a.Fragment,null,m&&r.a.createElement(Oe,{global:!0}),r.a.createElement(Te,{title:"Umowy"},r.a.createElement("div",{className:Kn.a.tabs},r.a.createElement(Ka,{value:E,indicatorColor:"primary",textColor:"primary",onChange:function(e,a){return _(a)}},r.a.createElement(Ka.Tab,{label:"Zatwierdzone"}),r.a.createElement(Ka.Tab,{label:"Oczekuj\u0105ce"})),r.a.createElement("div",null,r.a.createElement(On,{className:Kn.a.yearPicker,onChange:c,year:l}),r.a.createElement(ln,{className:Kn.a.searchInput,value:k,onChange:function(e){return z(e.target.value)}}))),r.a.createElement("div",{className:Kn.a.agreements},0===E&&S(!0),1===E&&S(!1))))},ct=Object(o.gql)(Xa||(Xa=Object(W.a)(["\n  query meCompany {\n    meCompany {\n      id\n      email\n      phone\n      name\n      first_name\n      last_name\n      color\n      city\n      address\n      phone\n    }\n  }\n"]))),ot=function(){var e=Object(s.c)(te),a=Object(v.a)(e,2),n=a[0],l=a[1],c=Object(o.useLazyQuery)(ct),i=Object(v.a)(c,2),m=i[0],u=i[1].data,d=Object(p.g)();return Object(t.useEffect)((function(){n||m()}),[n,m]),Object(t.useEffect)((function(){u&&(u.meCompany||d.push("/logout"),l(u.meCompany))}),[u,l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/"},r.a.createElement(Qn,null)),r.a.createElement(p.b,{exact:!0,path:"/agreements"},r.a.createElement(lt,null)),r.a.createElement(p.b,{exact:!0,path:"/profile"},r.a.createElement(ga,null)),r.a.createElement(p.b,null,r.a.createElement(Oa,null))))},it=n(122),mt=n.n(it),st=(n(567),n(344)),ut=n(626),dt=r.a.forwardRef((function(e,a){var n=e.onClick,t=e.children;return r.a.createElement(ut.a,{onClick:n},t)})),pt=r.a.forwardRef((function(e,a){var n=e.children,t=e.closeMenu;return r.a.createElement(st.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:t,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},n)}));pt.Item=dt;var ft,bt,Et,vt,_t=function(){var e=function(){var e=Object(t.useState)(null),a=Object(v.a)(e,2),n=a[0],r=a[1];return[n,function(e){r(e.currentTarget)},function(){r(null)}]}(),a=Object(v.a)(e,3),n=a[0],l=a[1],c=a[2],o=Object(s.c)(re),i=Object(v.a)(o,1)[0],m=Object(s.c)(te),u=Object(v.a)(m,1)[0],f=Object(s.c)(ne),b=Object(v.a)(f,1)[0],E=Object(p.g)();return r.a.createElement("div",{className:mt.a.container},r.a.createElement("div",null,r.a.createElement(d.b,{to:"/",className:mt.a.logo},r.a.createElement(V,null)),r.a.createElement("div",{className:mt.a.menu},r.a.createElement(d.b,{to:"/"},"Og\u0142oszenia praktyk"),i&&r.a.createElement(d.b,{to:"/users"},"U\u017cytkownicy"),(i||u)&&r.a.createElement(d.b,{to:"/agreements"},"Umowy"),b&&r.a.createElement(d.b,{to:"/mypractice"},"Moja praktyka"))),r.a.createElement("div",{className:mt.a.menu},r.a.createElement("a",{onClick:l,className:mt.a.user},i&&i.email,u&&u.email,b&&b.email),r.a.createElement(pt,{ref:n,closeMenu:c},r.a.createElement(pt.Item,{onClick:function(){c(),E.push("/profile")}},"Profil"),r.a.createElement(pt.Item,{onClick:function(){c(),E.push("/logout")}},"Wyloguj"))))},gt=function(e){var a=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_t,null),a)},ht=n(342),yt=Object(ht.withApollo)((function(e){var a=e.client;return localStorage.removeItem("token"),localStorage.removeItem("userType"),a.clearStore(),r.a.createElement(p.a,{to:"/login",push:!0})})),Ot=n(123),jt=n.n(Ot),wt=Object(o.gql)(ft||(ft=Object(W.a)(["\n  mutation confirmInvitationToken($token: String!) {\n    confirmInvitationToken(token: $token) {\n      email\n      userType\n    }\n  }\n"]))),kt=Object(o.gql)(bt||(bt=Object(W.a)(["\n  mutation registerCompany(\n    $token: String!\n    $first_name: String!\n    $last_name: String!\n    $password: String!\n    $name: String!\n    $city: String!\n    $address: String!\n    $phone: String\n    $confirm_password: String!\n  ) {\n    registerCompany(\n      token: $token\n      first_name: $first_name\n      last_name: $last_name\n      password: $password\n      name: $name\n      city: $city\n      phone: $phone\n      confirm_password: $confirm_password\n      address: $address\n    ) {\n      token\n      company {\n        id\n        email\n        first_name\n        last_name\n        color\n        name\n        city\n        address\n        phone\n      }\n    }\n  }\n"]))),zt=Object(o.gql)(Et||(Et=Object(W.a)(["\n  mutation registerStudent(\n    $token: String!\n    $first_name: String!\n    $last_name: String!\n    $password: String!\n    $confirm_password: String!\n    $index_number: Int!\n  ) {\n    registerStudent(\n      token: $token\n      first_name: $first_name\n      last_name: $last_name\n      password: $password\n      confirm_password: $confirm_password\n      index_number: $index_number\n    ) {\n      token\n      student {\n        id\n        email\n        first_name\n        last_name\n        color\n      }\n    }\n  }\n"]))),St=Object(o.gql)(vt||(vt=Object(W.a)(["\n  mutation registerPracticeSuperviser(\n    $token: String!\n    $first_name: String!\n    $last_name: String!\n    $password: String!\n    $confirm_password: String!\n  ) {\n    registerPracticeSuperviser(\n      token: $token\n      first_name: $first_name\n      last_name: $last_name\n      password: $password\n      confirm_password: $confirm_password\n    ) {\n      token\n      practiceSuperviser {\n        id\n        email\n        first_name\n        last_name\n        color\n      }\n    }\n  }\n"]))),Nt=n(144),Ct=n.n(Nt),$t=function(e){var a=e.children,n=e.title,t=e.isLoading,l=Object(p.g)();return r.a.createElement("div",{className:Ct.a.outerContainer},r.a.createElement("div",{className:Ct.a.container},r.a.createElement("div",{className:Ct.a.header},r.a.createElement("h2",null,n),r.a.createElement(V,{onClick:function(){return l.push("/")}})),r.a.createElement("div",{className:Ct.a.content},r.a.createElement("p",null,a),t&&r.a.createElement(Oe,null))))},At=function(){var e=Object(p.h)().token,a=Object(p.g)(),n=Object(o.useMutation)(wt),l=Object(v.a)(n,2),c=l[0],i=l[1].loading,m=Object(t.useState)(!1),s=Object(v.a)(m,2),u=s[0],d=s[1],f=Object(o.useMutation)(zt),b=Object(v.a)(f,1)[0],E=Object(o.useMutation)(kt),g=Object(v.a)(E,1)[0],h=Object(o.useMutation)(St),O=Object(v.a)(h,1)[0],j=Object(t.useState)(null),w=Object(v.a)(j,2),k=w[0],z=w[1],N=Object(t.useState)(!1),C=Object(v.a)(N,2),$=C[0],A=C[1],T=ee(),P=Object(v.a)(T,2),M=P[0],x=P[1],D=Object(_.a)(),R=D.register,I=D.handleSubmit,F=D.watch,q=D.errors,L=K(),U=L.removeToken,Y=L.removeUserType,G=function(){x("Zarejestrowano pomy\u015blnie",{variant:"success"}),A(!0),setTimeout((function(){U(),Y(),a.push("/login")}),5e3)};return Object(t.useEffect)((function(){e&&c({variables:{token:e}}).then((function(e){var a=e.data;console.log(a),a.confirmInvitationToken&&z(a.confirmInvitationToken)})).catch((function(e){d(!0),M(e)}))}),[e]),i?r.a.createElement(Oe,null):$?r.a.createElement(r.a.Fragment,null,r.a.createElement($t,{title:"Zarejestrowano pomy\u015blnie",isLoading:!0},"Zarejestrowano pomy\u015blnie. ",r.a.createElement("br",null),"za chwil\u0119 nast\u0105pi przekierowanie do strony logowania.")):u?r.a.createElement($t,{title:"Wyst\u0105pi\u0142 b\u0142\u0105d"},"Link z zaproszeniem wygas\u0142, lub zosta\u0142 wykorzystany, skontaktuj si\u0119 z opiekunem praktyk."):r.a.createElement("div",{className:jt.a.outerContainer},r.a.createElement("div",{className:jt.a.container},r.a.createElement("div",{className:jt.a.header},r.a.createElement("h2",null,"Stw\xf3rz konto"),r.a.createElement(V,null)),r.a.createElement("div",{className:jt.a.content},r.a.createElement("div",null,r.a.createElement("label",null,"Adres email"),r.a.createElement("br",null),r.a.createElement("span",null,null===k||void 0===k?void 0:k.email),r.a.createElement(S,{name:"first_name",inputRef:R({required:"Musisz poda\u0107 imi\u0119"}),labelOnTop:!0,label:"Imi\u0119"}),q.first_name&&r.a.createElement(y.a,{variant:"filled",severity:"error"},q.first_name.message),r.a.createElement(S,{name:"last_name",inputRef:R({required:"Musisz poda\u0107 nazwisko"}),labelOnTop:!0,label:"Nazwisko"}),q.last_name&&r.a.createElement(y.a,{variant:"filled",severity:"error"},q.last_name.message),r.a.createElement(S,{name:"password",type:"password",inputRef:R({required:"Musisz poda\u0107 has\u0142o",minLength:{value:8,message:"Has\u0142o musi mie\u0107 przynajmniej 8 znak\xf3w"}}),labelOnTop:!0,label:"Has\u0142o"}),q.password&&r.a.createElement(y.a,{variant:"filled",severity:"error"},q.password.message),r.a.createElement(S,{name:"confirm_password",type:"password",inputRef:R({validate:function(e){return e===F("password")||"Has\u0142a si\u0119 nie zgadzaj\u0105"}}),labelOnTop:!0,label:"Powt\xf3rz has\u0142o"}),q.confirm_password&&r.a.createElement(y.a,{variant:"filled",severity:"error"},q.confirm_password.message)),r.a.createElement("div",null,r.a.createElement("label",null,"Typ konta"),r.a.createElement("br",null),(null===k||void 0===k?void 0:k.userType)===ae.student&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Student"),r.a.createElement(S,{name:"index_number",inputRef:R({required:"Musisz poda\u0107 numer indeksu"}),labelOnTop:!0,label:"Numer indeksu*"}),q.index_number&&r.a.createElement(y.a,{variant:"filled",severity:"error"},q.index_number.message)),(null===k||void 0===k?void 0:k.userType)===ae.company&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Firma"),r.a.createElement(S,{name:"name",inputRef:R({required:"Musisz poda\u0107 nazw\u0119 firmy"}),labelOnTop:!0,label:"Nazwa firmy*"}),q.name&&r.a.createElement(y.a,{variant:"filled",severity:"error"},q.name.message),r.a.createElement(S,{name:"city",inputRef:R({required:"Musisz poda\u0107 miejscowo\u015b\u0107 i kod pocztowy"}),labelOnTop:!0,label:"Miejscowo\u015b\u0107 i kod pocztowy*"}),q.city&&r.a.createElement(y.a,{variant:"filled",severity:"error"},q.city.message),r.a.createElement(S,{name:"address",inputRef:R({required:"Musisz poda\u0107 adres"}),labelOnTop:!0,label:"Adres*"}),q.address&&r.a.createElement(y.a,{variant:"filled",severity:"error"},q.address.message),r.a.createElement(S,{name:"phone",inputRef:R,labelOnTop:!0,label:"Telefon"})),(null===k||void 0===k?void 0:k.userType)===ae.practiceSuperviser&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Opiekun praktyk")))),r.a.createElement("div",{className:jt.a.footer},r.a.createElement("button",{onClick:I((function(a){if(k)switch(k.userType){case ae.student:b({variables:Object(We.a)(Object(We.a)({},a),{},{index_number:parseInt(a.index_number),token:e})}).then((function(e){e&&G()})).catch((function(e){M(e)}));break;case ae.company:g({variables:Object(We.a)(Object(We.a)({},a),{},{token:e})}).then((function(e){e&&G()})).catch((function(e){M(e)}));break;case ae.practiceSuperviser:O({variables:Object(We.a)(Object(We.a)({},a),{},{token:e})}).then((function(e){e&&G()})).catch((function(e){M(e)}));break;default:console.log("UserType error")}}))},"Stw\xf3rz konto"))))},Tt=(n(568),function(){return r.a.createElement(d.a,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/login"},r.a.createElement(ce,null)),r.a.createElement(p.b,{path:"/logout"},r.a.createElement(yt,null)),r.a.createElement(p.b,{path:"/invitation/:token"},r.a.createElement(At,null)),r.a.createElement(Ca,{path:"/"},r.a.createElement(gt,null,r.a.createElement(Na,{userType:ae.student},r.a.createElement(wa,null)),r.a.createElement(Na,{userType:ae.practiceSuperviser},r.a.createElement(Bn,null)),r.a.createElement(Na,{userType:ae.company},r.a.createElement(ot,null))))))}),Pt=Object(i.a)((function(e){var a=e.graphQLErrors,n=e.networkError;a&&a.map((function(e){var a=e.message,n=e.locations,t=e.path,r=e.extensions;console.log("[GraphQL error]: Message: ".concat(a,", Location: ").concat(n,", Path: ").concat(t)),"UNAUTHENTICATED"===r.code&&(localStorage.removeItem("token"),localStorage.removeItem("userType"),window.location.reload())})),n&&console.log("[Network error]: ".concat(n))}));console.log("production");var Mt=new o.ApolloLink((function(e,a){var n=localStorage.getItem("token");return e.setContext({headers:{authorization:(null===n||void 0===n?void 0:n.replace(/['"]+/g,""))||""}}),a(e)})),xt=Object(o.from)([Pt,Mt,Object(u.a)({uri:"https://sep-praca-dyplomowa.herokuapp.com/graphql"})]),Dt=new o.ApolloClient({link:xt,cache:new o.InMemoryCache});c.a.render(r.a.createElement(s.a,null,r.a.createElement(m.a,{maxSnack:3},r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.ApolloProvider,{client:Dt},r.a.createElement(Tt,null))))),document.getElementById("root"))},67:function(e,a,n){e.exports={container:"Practice_container__3ikl3",block:"Practice_block__19GLE",marginTop:"Practice_marginTop__S0mAm",buttons:"Practice_buttons__1iU_u",send:"Practice_send__2yKwX",companyAvatar:"Practice_companyAvatar__3ADOQ"}},68:function(e,a,n){e.exports={content:"Profile_content__zWpwB",formGroup:"Profile_formGroup__2J9_s"}},84:function(e,a,n){e.exports={container:"Agreement_container__GpBhM",block:"Agreement_block__X0ViP",alignCenter:"Agreement_alignCenter__11x-9",avatar:"Agreement_avatar__1EFAV",buttons:"Agreement_buttons__14f8i",agreements:"Agreement_agreements__3IZuz",companyAvatar:"Agreement_companyAvatar__UskE2"}},94:function(e,a,n){e.exports={container:"Login_container__1nz1X",content:"Login_content__2clW6",form:"Login_form__1zFVh",title:"Login_title__19yIg",logIn:"Login_logIn__1fntK",page:"Login_page__ZL9j9"}}},[[354,1,2]]]);
//# sourceMappingURL=main.34c69e71.chunk.js.map