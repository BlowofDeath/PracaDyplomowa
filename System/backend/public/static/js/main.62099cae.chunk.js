(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{113:function(e,a,n){e.exports={container:"ReportPracticeModal_container__6wBTc",content:"ReportPracticeModal_content__3CQcp",fromToWrapper:"ReportPracticeModal_fromToWrapper__2qRPw",firmName:"ReportPracticeModal_firmName__1gkbU",inputGroup:"ReportPracticeModal_inputGroup__13I7J",errors:"ReportPracticeModal_errors__3PYZL"}},114:function(e,a,n){e.exports={backdrop:"Modal_backdrop__11LlO",modal:"Modal_modal__3GwDb",content:"Modal_content__1IJDL",header:"Modal_header__1iwt3",footer:"Modal_footer__jsMCp"}},115:function(e,a,n){e.exports={container:"EditAnnouncementModal_container__L55AA",content:"EditAnnouncementModal_content__16XH5",fromToWrapper:"EditAnnouncementModal_fromToWrapper__3mnCq",firmName:"EditAnnouncementModal_firmName__2vXx9",inputGroup:"EditAnnouncementModal_inputGroup__1pqDC",errors:"EditAnnouncementModal_errors__Q5fKO"}},116:function(e,a,n){e.exports={container:"AddAnnouncementModal_container__1loDP",content:"AddAnnouncementModal_content__1wLGT",fromToWrapper:"AddAnnouncementModal_fromToWrapper__HEBO7",firmName:"AddAnnouncementModal_firmName__1uQkd",inputGroup:"AddAnnouncementModal_inputGroup__2VK7n",errors:"AddAnnouncementModal_errors__YaYSS"}},117:function(e,a,n){e.exports={container:"Agreement_container__GpBhM",block:"Agreement_block__X0ViP",alignCenter:"Agreement_alignCenter__11x-9",avatar:"Agreement_avatar__1EFAV",buttons:"Agreement_buttons__14f8i"}},118:function(e,a,n){e.exports={container:"Navbar_container__2IM_w",menu:"Navbar_menu__GtI4D",logo:"Navbar_logo__3gt0f",user:"Navbar_user__2Eim7"}},119:function(e,a,n){e.exports={outerContainer:"Invitation_outerContainer__3ACFM",container:"Invitation_container__G4WUd",content:"Invitation_content__4aM9F",header:"Invitation_header__IfbCd",footer:"Invitation_footer__2k2vs"}},136:function(e,a,n){e.exports={container:"Page_container__6IDSy",title:"Page_title__378_l",header:"Page_header__2eHIW"}},137:function(e,a,n){e.exports={container:"AddUserModal_container__2NwFs",inputGroup:"AddUserModal_inputGroup__Gf-Ru",errors:"AddUserModal_errors__1hhI5"}},138:function(e,a,n){e.exports={outerContainer:"Statement_outerContainer__3TjUM",container:"Statement_container__13bhY",content:"Statement_content__7kz-o",header:"Statement_header__1jIEw",spinner:"Statement_spinner__pne8D"}},169:function(e,a,n){e.exports={container:"Input_container__11f5q",labelOnTop:"Input_labelOnTop__eE9qr",bright:"Input_bright__1FIfV"}},170:function(e,a,n){e.exports={container:"Select_container__GqU-k",labelOnTop:"Select_labelOnTop__1EdET",bright:"Select_bright__2XTGK"}},171:function(e,a,n){e.exports={container:"Journal_container__3Fatq",fileHandler:"Journal_fileHandler__3B3O5",wrapper:"Journal_wrapper__1whwk"}},172:function(e,a,n){e.exports={container:"Textarea_container__3Lepg",labelOnTop:"Textarea_labelOnTop__ofXZv",bright:"Textarea_bright__1co0w"}},173:function(e,a,n){e.exports={tabs:"AgreementPage_tabs__9mkXS"}},209:function(e,a,n){e.exports={container:"Practice_container__3ikl3",buttons:"Practice_buttons__1iU_u"}},210:function(e,a,n){e.exports={container:"Announcement_container__1kU6B",buttons:"Announcement_buttons__3zy-e"}},211:function(e,a,n){e.exports={tab:"Tabs_tab__uaiMj"}},212:function(e,a,n){e.exports={tabs:"AnnouncementPage_tabs__1z4wy"}},213:function(e,a,n){e.exports={container:"Student_container__3qHts",avatar:"Student_avatar__268K4"}},214:function(e,a,n){e.exports={container:"Student_container__1nRE4",avatar:"Student_avatar__2rYJy"}},215:function(e,a,n){e.exports={tabs:"UsersPage_tabs__1TKsc"}},326:function(e,a,n){e.exports={container:"Container_container__1beqY"}},329:function(e,a,n){e.exports={text:"ConfirmModal_text__9E1Ge"}},330:function(e,a,n){e.exports={search:"SearchInput_search__3BzOB"}},331:function(e,a,n){e.exports={studentsList:"Students_studentsList__2rumC"}},332:function(e,a,n){e.exports={companyAvatar:"CompanyAvatar_companyAvatar__3lKtn"}},333:function(e,a,n){e.exports={companiesList:"Companies_companiesList__5p0Na"}},334:function(e,a,n){e.exports={tabs:"AnnouncementPage_tabs__ISK7w"}},348:function(e,a,n){e.exports=n(570)},364:function(e,a){},366:function(e,a){},379:function(e,a){},381:function(e,a){},409:function(e,a){},410:function(e,a){},415:function(e,a){},417:function(e,a){},424:function(e,a){},443:function(e,a){},553:function(e,a,n){e.exports={content:"MyPractice_content__2gVhO",fromToWrapper:"MyPractice_fromToWrapper__1CrN4",firmName:"MyPractice_firmName__17kgy"}},554:function(e,a,n){},559:function(e,a,n){},561:function(e,a,n){},562:function(e,a,n){},563:function(e,a,n){e.exports=n.p+"static/media/Background.31625b92.jpg"},570:function(e,a,n){"use strict";n.r(a);var t=n(0),r=n.n(t),l=n(21),c=n.n(l),o=n(8),i=n(323),m=n(87),s=n(27),u=n(336),d=(n(360),n(34)),p=n(37),f=n(20),b=n.n(f),E=n(41),v=n(7),g=n(62),h=n(74),_=n.n(h),y=n(618),O=n(91),j=n.n(O),k=n(169),w=n.n(k),S=n(9),z=function(e){var a=e.type,n=e.id,t=e.name,l=e.onChange,c=e.inputRef,o=e.value,i=e.label,m=e.className,s=e.labelOnTop,u=e.bright,d=e.placeholder,p=e.defaultValue;return r.a.createElement("div",{className:Object(S.a)(w.a.container,m,s&&w.a.labelOnTop)},i&&r.a.createElement("label",{className:Object(S.a)(u&&w.a.bright)},i),r.a.createElement("input",{placeholder:d,type:a,id:n,name:t,onChange:l,ref:c,value:o,defaultValue:p}))},T=n(170),N=n.n(T),C=function(e){var a=e.id,n=e.name,t=e.onChange,l=e.inputRef,c=e.value,o=e.label,i=e.className,m=e.options,s=e.labelOnTop,u=e.bright;return r.a.createElement("div",{className:Object(S.a)(N.a.container,i,s&&N.a.labelOnTop)},o&&r.a.createElement("label",{className:Object(S.a)(u&&N.a.bright)},o),r.a.createElement("select",{id:a,name:n,onChange:t,ref:l,value:c},m.map((function(e){var a=e.label,n=e.value;return r.a.createElement("option",{key:n,value:n},a)}))))};var M,$,x,A,I,q,R,P,D,L,F,U,Y=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"145",height:"47",fill:"none",viewBox:"0 0 145 47"},r.a.createElement("g",{filter:"url(#filter0_d)"},r.a.createElement("path",{fill:"#F9A03F",d:"M75.035 9.195l-3.603 8.807c-1.325-.633-2.59-1.113-3.797-1.441-1.196-.34-2.25-.586-3.164-.739a18.754 18.754 0 00-3.006-.263c-1.371.023-2.531.129-3.48.316-.95.176-1.712.422-2.286.738-.562.305-.955.657-1.177 1.055a1.794 1.794 0 00-.159 1.283c.117.516.393.926.827 1.23.433.294 1.013.516 1.74.669.726.14 1.588.234 2.584.28 1.008.048 2.138.077 3.392.089.657.011 1.383.035 2.18.07a17.54 17.54 0 012.443.281c.832.14 1.635.358 2.409.65a6.624 6.624 0 012.056 1.231 5.72 5.72 0 011.46 1.986c.362.797.544 1.776.544 2.936 0 1.055-.152 1.969-.457 2.742a6.187 6.187 0 01-1.23 1.987 6.572 6.572 0 01-1.829 1.336c-.691.34-1.43.609-2.214.808-.786.2-1.594.334-2.426.404a28.821 28.821 0 01-5.291-.035 27.797 27.797 0 01-2.654-.369 41.417 41.417 0 01-2.602-.58 71.194 71.194 0 01-2.62-.773l-1.036 3.093-2.479-.72 2.268-8.684c1.054.457 2.097.867 3.129 1.23 1.043.364 2.086.674 3.128.932 1.055.246 2.116.434 3.182.563 1.067.129 2.156.193 3.27.193 1.09 0 2.021-.064 2.795-.193.773-.13 1.4-.323 1.88-.58.493-.258.85-.58 1.073-.967.222-.387.334-.838.334-1.354 0-.644-.164-1.154-.492-1.529-.329-.375-.827-.662-1.495-.861-.656-.2-1.482-.334-2.478-.405a78.794 78.794 0 00-3.463-.158c-.926-.023-1.898-.058-2.918-.105a28.062 28.062 0 01-3.006-.3 17.603 17.603 0 01-2.812-.667 7.997 7.997 0 01-2.356-1.213 5.712 5.712 0 01-1.6-1.934c-.398-.773-.597-1.716-.597-2.83 0-.996.158-1.892.475-2.69a6.634 6.634 0 011.37-2.126 8.238 8.238 0 012.075-1.582 12.444 12.444 0 012.654-1.072c.973-.282 1.998-.48 3.076-.598a26.356 26.356 0 013.358-.14c1.172.058 2.332.175 3.48.35.48.071.985.165 1.512.282.527.106 1.049.24 1.564.404.516.153 1.014.334 1.495.545.48.2.925.428 1.335.686l.756-3.428 2.883 1.16zm19.283 15.47l-8.138-.651-.317 4.254H99.75l.686-3.428h2.742l-.616 9.158-25.523.967v-6.697h5.22l-.755-11.848-4.465.299v-6.627l26.139.545v10.142l-2.742.545-.545-6.082-13.096.861-.404 5.116 7.927-.475v3.92zm16.506-9.968a48.67 48.67 0 00-2.373.721c-.738.246-1.389.486-1.951.72l-.967-4.974a67.359 67.359 0 013.656-1.02 71.705 71.705 0 013.428-.755c1.09-.211 2.121-.387 3.094-.528.973-.14 1.875-.257 2.707-.351a53.202 53.202 0 015.361-.334c1.723.023 3.229.193 4.518.51 1.289.316 2.361.761 3.217 1.335.867.575 1.517 1.266 1.951 2.075.433.808.65 1.71.65 2.707 0 1.3-.304 2.46-.914 3.48-.597 1.02-1.394 1.922-2.39 2.707-.997.774-2.139 1.442-3.428 2.004a30.593 30.593 0 01-3.955 1.424c-1.36.387-2.707.697-4.043.932a63.812 63.812 0 01-3.639.51l.035 4.816 5.942.035v4.043l-14.907.931-.105-5.08 5.256.036-1.143-15.944zm11.953-2.267c-.398 0-.861.029-1.388.088-.516.046-1.078.117-1.688.21-.609.082-1.254.188-1.933.317-.68.129-1.377.27-2.092.422l.07 9.51a43.856 43.856 0 002.672-.65c.949-.27 1.881-.58 2.795-.933a24.557 24.557 0 002.637-1.177 11.814 11.814 0 002.162-1.46c.609-.527 1.078-1.089 1.406-1.687.34-.61.469-1.254.387-1.933-.059-.492-.223-.909-.493-1.248a2.86 2.86 0 00-1.072-.844c-.433-.223-.949-.38-1.547-.475a12.157 12.157 0 00-1.916-.14z"})),r.a.createElement("path",{fill:"url(#paint0_linear)",fillRule:"evenodd",d:"M30.469 0C36.25 0 40 3.75 40 9.531V30.47C40 36.25 36.25 40 30.469 40H9.53C3.75 40 0 36.25 0 30.469V9.53C0 3.75 3.75 0 9.531 0H30.47z",clipRule:"evenodd"}),r.a.createElement("mask",{id:"mask0",width:"40",height:"40",x:"0",y:"0",maskUnits:"userSpaceOnUse"},r.a.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M30.469 0C36.25 0 40 3.75 40 9.531V30.47C40 36.25 36.25 40 30.469 40H9.53C3.75 40 0 36.25 0 30.469V9.53C0 3.75 3.75 0 9.531 0H30.47z",clipRule:"evenodd"})),r.a.createElement("g",{mask:"url(#mask0)"},r.a.createElement("g",{filter:"url(#filter1_i)"},r.a.createElement("path",{fill:"#000",fillOpacity:"0.149",fillRule:"evenodd",d:"M20 31.333l12.195 9.679 10.244-.036.275-42.57-16.038.056-.158 18.503L20 31.333z",clipRule:"evenodd"})),r.a.createElement("path",{fill:"#FFDB5D",d:"M17.667-.333h-4.334v17.106h4.334V-.333z"}),r.a.createElement("path",{fill:"#FFB908",d:"M22.667-.333h-5.334v18h5.334v-18z"}),r.a.createElement("path",{fill:"#DC880D",fillRule:"evenodd",d:"M22.333-.333h4.334l-.13 17.294s-1.106.835-1.646.926c-.862.144-2.558-.22-2.558-.22v-18z",clipRule:"evenodd"}),r.a.createElement("mask",{id:"mask1",width:"17",height:"18",x:"12",y:"15",maskUnits:"userSpaceOnUse"},r.a.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M12.231 18.074s3.004-4.614 6.909-2.402c3.904 2.212 5.385 2.258 8.59.787 3.204-1.471-7.716 16.291-7.716 16.291L12.23 18.074z",clipRule:"evenodd"})),r.a.createElement("g",{mask:"url(#mask1)"},r.a.createElement("path",{fill:"url(#paint1_linear)",fillRule:"evenodd",d:"M13.158 16.404l6.514-3.425 6.91 3.876-6.593 14.473-6.83-14.924z",clipRule:"evenodd"}),r.a.createElement("mask",{id:"mask2",width:"14",height:"20",x:"13",y:"12",maskUnits:"userSpaceOnUse"},r.a.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M13.158 16.404l6.514-3.425 6.91 3.876-6.593 14.473-6.83-14.924z",clipRule:"evenodd"})),r.a.createElement("g",{mask:"url(#mask2)"},r.a.createElement("path",{fill:"#343434",d:"M25 26h-9.333v6H25v-6z"}),r.a.createElement("path",{fill:"url(#paint2_linear)",fillRule:"evenodd",d:"M17.168 14.024l3.015 18.725 7.533-16.313-10.548-2.412z",clipRule:"evenodd"}),r.a.createElement("mask",{id:"mask3",width:"11",height:"19",x:"17",y:"14",maskUnits:"userSpaceOnUse"},r.a.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M17.168 14.024l3.015 18.725 7.533-16.313-10.548-2.412z",clipRule:"evenodd"})),r.a.createElement("g",{mask:"url(#mask3)"},r.a.createElement("path",{fill:"#202020",d:"M25 26h-9.333v6H25v-6z"}))))),r.a.createElement("defs",null,r.a.createElement("filter",{id:"filter0_d",width:"93.113",height:"36.951",x:"45.002",y:"8.035",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.a.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.a.createElement("feOffset",{dy:"4"}),r.a.createElement("feGaussianBlur",{stdDeviation:"2"}),r.a.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),r.a.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),r.a.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),r.a.createElement("filter",{id:"filter1_i",width:"23.214",height:"43.606",x:"20",y:"-1.594",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.a.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),r.a.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.a.createElement("feOffset",{dx:"0.5",dy:"1.5"}),r.a.createElement("feGaussianBlur",{stdDeviation:"0.5"}),r.a.createElement("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),r.a.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),r.a.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow"})),r.a.createElement("linearGradient",{id:"paint0_linear",x1:"0",x2:"0",y1:"0",y2:"40",gradientUnits:"userSpaceOnUse"},r.a.createElement("stop",{stopColor:"#2EA3DC"}),r.a.createElement("stop",{offset:"1",stopColor:"#1383BB"})),r.a.createElement("linearGradient",{id:"paint1_linear",x1:"15.067",x2:"19.384",y1:"23.374",y2:"23.374",gradientUnits:"userSpaceOnUse"},r.a.createElement("stop",{stopColor:"#FBDEB5"}),r.a.createElement("stop",{offset:"1",stopColor:"#FEE0B9"})),r.a.createElement("linearGradient",{id:"paint2_linear",x1:"18.181",x2:"24.317",y1:"27.039",y2:"27.039",gradientUnits:"userSpaceOnUse"},r.a.createElement("stop",{stopColor:"#EAC99D"}),r.a.createElement("stop",{offset:"1",stopColor:"#D1AD7B"}))))},B=n(15),G=Object(o.gql)(M||(M=Object(B.a)(["\n  mutation loginStudent($email: String!, $password: String!) {\n    loginStudent(email: $email, password: $password) {\n      token\n      student {\n        id\n        email\n      }\n    }\n  }\n"]))),Z=Object(o.gql)($||($=Object(B.a)(["\n  mutation loginPracticeSuperviser($email: String!, $password: String!) {\n    loginPracticeSuperviser(email: $email, password: $password) {\n      token\n      practiceSuperviser {\n        id\n        email\n      }\n    }\n  }\n"]))),V=Object(o.gql)(x||(x=Object(B.a)(["\n  mutation loginCompany($email: String!, $password: String!) {\n    loginCompany(email: $email, password: $password) {\n      token\n      company {\n        id\n        email\n        phone\n        name\n      }\n    }\n  }\n"]))),W=function(){var e=Object(t.useState)(localStorage.getItem("token")),a=Object(v.a)(e,2),n=a[0],r=a[1],l=Object(t.useState)(localStorage.getItem("userType")),c=Object(v.a)(l,2),o=c[0],i=c[1];return{token:n,setToken:function(e){localStorage.setItem("token",e),r(e)},userType:o,setUserType:function(e){localStorage.setItem("userType",e),i(e)},removeToken:function(){r(void 0),localStorage.removeItem("token")},removeUserType:function(){i(void 0),localStorage.removeItem("userType")}}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error",a=Object(m.b)(),n=a.enqueueSnackbar,t=function(a){a.graphQLErrors&&a.graphQLErrors.map((function(a){var t=a.message;n(t,{variant:e})}))};return[t,n]},H={student:"student",practiceSuperviser:"practice-superviser",company:"company"},Q=Object(s.b)({key:"studentAtom",default:null}),K=Object(s.b)({key:"companyAtom",default:null}),X=Object(s.b)({key:"practiceSuperviserAtom",default:null}),ee=function(){var e=Object(g.a)(),a=e.register,n=e.handleSubmit,t=e.errors,l=W(),c=l.token,i=l.setToken,m=l.userType,u=l.setUserType,d=J(),f=Object(v.a)(d,1)[0],h=Object(s.c)(Q),O=Object(v.a)(h,2)[1],k=Object(s.c)(K),w=Object(v.a)(k,2)[1],S=Object(s.c)(X),T=Object(v.a)(S,2)[1],N=Object(o.useMutation)(G),M=Object(v.a)(N,1)[0],$=Object(o.useMutation)(Z),x=Object(v.a)($,1)[0],A=Object(o.useMutation)(V),I=Object(v.a)(A,1)[0];if(c&&m)return r.a.createElement(p.a,{to:"/"});return r.a.createElement("div",{className:j.a.page},r.a.createElement("div",{className:j.a.container},r.a.createElement(Y,null),r.a.createElement("div",{className:j.a.content},r.a.createElement("h1",{className:j.a.title},"Zaloguj"),r.a.createElement("div",{className:j.a.form},r.a.createElement(z,{name:"email",label:"Email:",bright:!0,inputRef:a({required:!0,validate:_.a.isEmail})}),t.email&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Adres email jest niepoprawny."),r.a.createElement(z,{name:"password",label:"Has\u0142o:",type:"password",bright:!0,inputRef:a({required:!0,minLength:8})}),t.password&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Has\u0142o musi zawiera\u0107 minimum 8 znak\xf3w."),r.a.createElement(C,{inputRef:a,options:[{label:"Student",value:H.student},{label:"Opiekun praktyk",value:H.practiceSuperviser},{label:"Firma",value:H.company}],label:"Zaloguj jako:",name:"type",bright:!0,className:j.a.select}),r.a.createElement("button",{preset:"bright",className:j.a.logIn,onClick:n((function(e){switch(O(null),w(null),T(null),e.type){case H.student:M({variables:{email:e.email,password:e.password}}).then(function(){var e=Object(E.a)(b.a.mark((function e(a){var n,t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.data,!(null===(t=n.loginStudent)||void 0===t?void 0:t.token)){e.next=8;break}return e.next=5,i(t.token);case 5:return e.next=7,u(H.student);case 7:O(t.student);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(f);break;case H.practiceSuperviser:x({variables:{email:e.email,password:e.password}}).then(function(){var e=Object(E.a)(b.a.mark((function e(a){var n,t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.data,!(null===(t=n.loginPracticeSuperviser)||void 0===t?void 0:t.token)){e.next=8;break}return e.next=5,i(t.token);case 5:return e.next=7,u(H.practiceSuperviser);case 7:T(t.practiceSuperviser);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(f);break;case H.company:I({variables:{email:e.email,password:e.password}}).then(function(){var e=Object(E.a)(b.a.mark((function e(a){var n,t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.data,!(null===(t=n.loginCompany)||void 0===t?void 0:t.token)){e.next=8;break}return e.next=5,i(t.token);case 5:return e.next=7,u(H.company);case 7:w(t.company);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch(f)}}))},"Zaloguj")))))},ae=n(64),ne=n.n(ae),te=n(326),re=n.n(te),le=function(e){var a=e.children,n=e.className;return r.a.createElement("div",{className:Object(S.a)(re.a.container,n)},a)},ce=n(209),oe=n.n(ce),ie=function(){return r.a.createElement("svg",{width:"15",height:"13",viewBox:"0 0 15 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M12.553 0.239426L4.90996 7.88246L2.43115 5.40364L0 7.83478L2.47881 10.3136L4.92584 12.7607L7.357 10.3295L15 2.68648L12.553 0.239426Z",fill:"#2CCF50"}))},me=function(){return r.a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M14.5312 2.47758L12.5222 0.46875L7.5 5.49117L2.47758 0.46875L0.46875 2.47758L5.49094 7.5L0.46875 12.5224L2.47758 14.5312L7.5 9.50883L12.5222 14.5312L14.5312 12.5224L9.50859 7.5L14.5312 2.47758Z",fill:"#FB0404"}))},se=function(e){var a=e.id,n=e.company_name,t=e.address,l=e.city,c=e.phone,o=e.email,i=e.from,m=e.to,s=e.accepted,u=e.dictionaryUrl,d=Object(p.g)();return r.a.createElement(le,{className:oe.a.container},r.a.createElement("h2",null,n),r.a.createElement("span",null,r.a.createElement("span",null,"Email:")," ",o),r.a.createElement("span",null,r.a.createElement("span",null,"Telefon:")," ",c),r.a.createElement("span",null,r.a.createElement("span",null,"Miejscowo\u015b\u0107:")," ",l),r.a.createElement("span",null,r.a.createElement("span",null,"Adres:")," ",t),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("span",null,"Okres wykonywania praktyki:")," od"," ",ne()(i).format("DD/MM/YYYY")," do ",ne()(m).format("DD/MM/YYYY")),r.a.createElement("span",null,r.a.createElement("span",null,"Zgoda opiekuna praktyk: "),s?r.a.createElement(ie,null):r.a.createElement(me,null)),r.a.createElement("div",{className:oe.a.buttons},s&&r.a.createElement("button",{onClick:function(){return d.push("".concat(u,"/").concat(a))}},"Dziennik")))},ue=(n(553),n(136)),de=n.n(ue),pe=function(e){var a=e.title,n=e.children,t=e.button;return r.a.createElement("div",{className:de.a.container},r.a.createElement("div",{className:de.a.header},r.a.createElement("h1",{className:de.a.title},a),t),r.a.createElement("div",{className:de.a.content},n))},fe=n(113),be=n.n(fe),Ee=n(114),ve=n.n(Ee),ge=n(327),he=n.n(ge),_e=n(613),ye=(n(554),function(e){return r.a.createElement(_e.a,Object.assign({},e,{className:e.className}))}),Oe=function(e){var a=e.open,n=e.setOpenModal,t=e.children,l=e.header,o=e.buttons,i=e.isLoading;return a&&c.a.createPortal(r.a.createElement("div",{className:ve.a.backdrop,onClick:function(){return n(!1)}},r.a.createElement("div",{className:ve.a.modal,onClick:function(e){return e.stopPropagation()}},l&&r.a.createElement("div",{className:ve.a.header},r.a.createElement("h2",null,l),r.a.createElement(he.a,{onClick:function(){return n(!1)}})),r.a.createElement("div",{className:ve.a.content},t),r.a.createElement("div",{className:ve.a.footer},r.a.createElement("div",null,i&&r.a.createElement(ye,null)),r.a.createElement("div",null,o)))),document.body)},je=Object(o.gql)(A||(A=Object(B.a)(["\n  mutation createPracticeAgreement(\n    $city: String!\n    $address: String!\n    $from: Date!\n    $to: Date!\n    $email: String!\n    $phone: String!\n    $company_name: String!\n  ) {\n    createPracticeAgreement(\n      city: $city\n      address: $address\n      from: $from\n      to: $to\n      phone: $phone\n      email: $email\n      company_name: $company_name\n    ) {\n      city\n      address\n      email\n      company_name\n      from\n      to\n      accepted\n    }\n  }\n"]))),ke=function(e){var a=e.setOpenModal,n=e.refetch,l=Object(t.useState)(!1),c=Object(v.a)(l,2),i=c[0],m=c[1],s=Object(g.a)(),u=s.register,d=s.errors,p=s.handleSubmit,f=Object(o.useMutation)(je),b=Object(v.a)(f,1)[0],E=J(),h=Object(v.a)(E,2),O=h[0],j=h[1];return r.a.createElement(Oe,Object.assign({},e,{header:"Zg\u0142o\u015b praktyk\u0119",isLoading:i,buttons:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{preset:"bright",onClick:function(){return a(!1)}},"Zamknij"),r.a.createElement("button",{onClick:p((function(e){m(!0),b({variables:{city:e.city,address:e.address,from:e.from,to:e.to,phone:e.phone,email:e.email,company_name:e.company_name}}).then((function(){m(!1),j("Praktyka zg\u0142oszona pomy\u015blnie",{variant:"success"}),n(),a(!1)})).catch((function(e){console.log(e),O(e),m(!1)}))}))},"Wy\u015blij zg\u0142oszenie"))}),r.a.createElement("div",{className:be.a.container},r.a.createElement("div",{className:be.a.content},r.a.createElement("div",{className:be.a.inputGroup},r.a.createElement(z,{label:"Nazwa firmy*",labelOnTop:!0,inputRef:u({required:!0}),name:"company_name",placeholder:"Example z.o.o"}),r.a.createElement(z,{label:"Email*",labelOnTop:!0,inputRef:u({validate:function(e){return!e||_.a.isEmail(e)}}),name:"email",placeholder:"jk@example.com"}),r.a.createElement(z,{label:"Telefon*",labelOnTop:!0,inputRef:u({required:!0}),name:"phone",placeholder:"678 890 ..."}),r.a.createElement(z,{label:"Miejscowo\u015b\u0107 i kod pocztowy*",labelOnTop:!0,inputRef:u({required:!0}),name:"city",placeholder:"Olsztyn, 10-089"}),r.a.createElement(z,{label:"Adres*",labelOnTop:!0,inputRef:u({required:!0}),name:"address",placeholder:"Wyspia\u0144skiego 18"}))),r.a.createElement("div",null,r.a.createElement("div",{className:be.a.fromToWrapper},r.a.createElement("label",null,"Przedzia\u0142 czasowy"),r.a.createElement(z,{type:"date",label:"Od*",inputRef:u({required:!0}),name:"from"}),r.a.createElement(z,{type:"date",label:"Do*",inputRef:u({required:!0}),name:"to"})))),r.a.createElement("div",{className:be.a.errors},d.city&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Miejscowo\u015b\u0107 i kod pocztowy s\u0105 wymagane"),d.company_name&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Nazwa firmy jest wymagana"),d.address&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Adres jest wymagany"),d.phone&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Telefon jest wymagany"),(d.from||d.to)&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Podaj poprawny przedzia\u0142 czasowy"),d.email&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Adres email jest niepoprawny")))},we=Object(o.gql)(I||(I=Object(B.a)(["\n  query myPracticeAgreements {\n    myPracticeAgreements {\n      id\n      address\n      city\n      email\n      company_name\n      phone\n      from\n      to\n      accepted\n    }\n  }\n"]))),Se=n(171),ze=n.n(Se),Te=Object(o.gql)(q||(q=Object(B.a)(["\n  mutation createJournal($file: Upload!, $PracticeAgreementId: ID!) {\n    createJournal(file: $file, PracticeAgreementId: $PracticeAgreementId) {\n      accepted\n    }\n  }\n"]))),Ne=Object(o.gql)(R||(R=Object(B.a)(["\n  query getJournal($PracticeAgreementId: ID!) {\n    getJournal(PracticeAgreementId: $PracticeAgreementId) {\n      id\n      accepted\n    }\n  }\n"]))),Ce=n(328),Me=function(e){var a=e.onFileSelect,n=e.children,l=e.inputRef,c=e.name,o=e.accept,i=Object(t.useRef)(null);return r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:function(e){a&&a(e.target.files[0])},ref:Object(Ce.a)([i,l]),style:{display:"none"},name:c,accept:o}),r.a.cloneElement(n,{onClick:function(){return i.current&&i.current.click()}}))},$e=function(){var e,a,n,l,c=W().token,i=Object(o.useMutation)(Te),m=Object(v.a)(i,1)[0],s=Object(p.h)().agreementId,u=Object(o.useLazyQuery)(Ne),d=Object(v.a)(u,2),f=d[0],b=d[1],E=b.data,g=b.loading,h=b.refetch,_=Object(t.useState)(),y=Object(v.a)(_,2),O=y[0],j=y[1],k=J(),w=Object(v.a)(k,1)[0];if(Object(t.useEffect)((function(){s&&f({variables:{PracticeAgreementId:s}})}),[s]),g)return r.a.createElement(ye,null);console.log(E);var S=null===E||void 0===E||null===(e=E.getJournal)||void 0===e?void 0:e.id;return r.a.createElement("div",{className:ze.a.container},S&&r.a.createElement("span",null,r.a.createElement("span",null,"Zatwierdzone przez opiekuna prakty:"),(null===E||void 0===E||null===(a=E.getJournal)||void 0===a?void 0:a.accepted)?r.a.createElement(ie,null):r.a.createElement(me,null)),r.a.createElement("div",{className:ze.a.wrapper},S&&r.a.createElement("a",{href:"/uploads/".concat(S,"/?token=").concat(c)},r.a.createElement("button",{preset:"bright"},"Dziennik")),(!S||!(null===E||void 0===E||null===(n=E.getJournal)||void 0===n?void 0:n.accepted))&&r.a.createElement("div",{className:ze.a.fileHandler},r.a.createElement(Me,{onFileSelect:function(e){return j(e)}},r.a.createElement("button",null,"Przegl\u0105daj")),r.a.createElement("span",null,null===O||void 0===O?void 0:O.name))),(!S||!(null===E||void 0===E||null===(l=E.getJournal)||void 0===l?void 0:l.accepted))&&r.a.createElement(r.a.Fragment,null,console.log("file",O),r.a.createElement("button",{onClick:function(){console.log(O),O&&m({variables:{file:O,PracticeAgreementId:s}}).then((function(e){e&&h()})).catch(w)}},"Wy\u015blij")))},xe=function(){var e=Object(t.useState)(!1),a=Object(v.a)(e,2),n=a[0],l=a[1],c=Object(o.useQuery)(we),i=c.data,m=c.loading,s=(c.error,c.refetch),u=Object(p.i)();return m?r.a.createElement(ye,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.b,{exact:!0,path:"".concat(u.path,"/")},r.a.createElement(pe,{title:"Moja praktyka",button:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return l(!0)}},"Zg\u0142o\u015b praktyk\u0119")))},i.myPracticeAgreements.map((function(e){return r.a.createElement(se,Object.assign({key:e.id},e,{dictionaryUrl:"".concat(u.path,"/dictionary")}))}))),n&&r.a.createElement(ke,{open:n,setOpenModal:l,refetch:s})),r.a.createElement(p.b,{path:"".concat(u.path,"/dictionary/:agreementId")},r.a.createElement(pe,{title:"Dziennik"},r.a.createElement($e,null))))},Ae=n(19),Ie=n(210),qe=n.n(Ie),Re=n(329),Pe=n.n(Re),De=function(e){var a=e.children,n=e.onConfirm,t=e.onDecline;return r.a.createElement(Oe,Object.assign({},e,{buttons:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{preset:"bright",onClick:t},"Nie"),r.a.createElement("button",{onClick:n},"Tak"))}),r.a.createElement("p",{className:Pe.a.text},a))},Le=n(115),Fe=n.n(Le),Ue=n(172),Ye=n.n(Ue),Be=function(e){var a=e.id,n=e.name,t=e.onChange,l=e.inputRef,c=(e.value,e.placeholder),o=e.labelOnTop,i=e.label,m=e.className,s=e.bright,u=e.defaultValue;return r.a.createElement("div",{className:Object(S.a)(Ye.a.container,m,o&&Ye.a.labelOnTop)},i&&r.a.createElement("label",{className:Object(S.a)(s&&Ye.a.bright)},i),r.a.createElement("textarea",{id:a,name:n,onChange:t,ref:l,placeholder:c,defaultValue:u}))},Ge=Object(o.gql)(P||(P=Object(B.a)(["\n  mutation editPracticeAnnouncement(\n    $id: ID!\n    $header: String\n    $slots: Int\n    $technologies: String\n    $description: String\n    $from: Date\n    $to: Date\n    $email: String\n    $phone: String\n    $company_name: String\n  ) {\n    editPracticeAnnouncement(\n      id: $id\n      header: $header\n      slots: $slots\n      technologies: $technologies\n      description: $description\n      from: $from\n      to: $to\n      phone: $phone\n      email: $email\n      company_name: $company_name\n    ) {\n      id\n      header\n      slots\n      description\n      technologies\n      from\n      to\n      phone\n      email\n      company_name\n    }\n  }\n"]))),Ze=function(e){var a=Object(g.a)(),n=a.register,l=a.errors,c=a.handleSubmit,i=J(),m=Object(v.a)(i,2),u=m[0],d=m[1],p=Object(o.useMutation)(Ge),f=Object(v.a)(p,1)[0],b=Object(t.useState)(!1),E=Object(v.a)(b,2),h=E[0],O=E[1],j=Object(s.d)(K),k=e.setOpenModal,w=e.refetch,S=e.announcement,T=ne()(S.from).format("YYYY-MM-DD"),N=ne()(S.to).format("YYYY-MM-DD");return r.a.createElement(Oe,Object.assign({},e,{header:"Edytuj og\u0142oszenie",isLoading:h,buttons:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{preset:"bright",onClick:function(){return k(!1)}},"Zamknij"),r.a.createElement("button",{onClick:c((function(e){var a={};a.id=S.id,e.header!==S.header&&(a.header=e.header),e.slots!==S.slots&&(a.slots=parseInt(e.slots)),e.technologies!==S.technologies&&(a.technologies=e.technologies),e.description!==S.description&&(a.description=e.description),e.from!==T&&(a.from=e.from),e.to!==N&&(a.to=e.to),e.phone!==S.phone&&(a.phone=e.phone),e.email!==S.email&&(a.email=e.email),e.company_name!==S.company_name&&(a.company_name=e.company_name),O(!0),f({variables:a}).then((function(){O(!1),w(),d("Og\u0142oszenie edytowano pomy\u015blnie",{variant:"success"}),k(!1)})).catch((function(e){console.log(e),u(e),O(!1)}))}))},"Zapisz og\u0142oszenie")," ")}),r.a.createElement("div",{className:Fe.a.container},r.a.createElement("div",{className:Fe.a.content},r.a.createElement("div",{className:Fe.a.inputGroup},r.a.createElement(z,{inputRef:n({required:!0}),label:"Nag\u0142\xf3wek*",labelOnTop:!0,name:"header",placeholder:"Praktyki na stanowisku...",defaultValue:S.header}),j?r.a.createElement("div",null,r.a.createElement("label",null,"Nazwa firmy"),r.a.createElement("br",null),r.a.createElement("span",null,j.name)):r.a.createElement(z,{label:"Nazwa firmy*",labelOnTop:!0,inputRef:n({required:!0}),name:"company_name",placeholder:"Example z.o.o",defaultValue:S.company_name}),r.a.createElement(z,{label:"Miejsca*",type:"number",labelOnTop:!0,inputRef:n({required:!0}),name:"slots",defaultValue:S.slots}),r.a.createElement(z,{label:"Technologie*",labelOnTop:!0,inputRef:n({required:!0}),name:"technologies",placeholder:"Java, C++, c#",defaultValue:S.technologies}),j?r.a.createElement("div",null,r.a.createElement("label",null,"Email"),r.a.createElement("br",null),r.a.createElement("span",null,j.email)):r.a.createElement(z,{label:"Email",labelOnTop:!0,inputRef:n({validate:function(e){return!e||_.a.isEmail(e)}}),name:"email",placeholder:"jk@example.com",defaultValue:S.email}),(null===j||void 0===j?void 0:j.phone)?r.a.createElement("div",null,r.a.createElement("label",null,"Phone"),r.a.createElement("br",null),r.a.createElement("span",null,j.phone)):r.a.createElement(z,{label:"Telefon",labelOnTop:!0,inputRef:n,name:"phone",placeholder:"678 890 ...",defaultValue:S.phone}))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Be,{label:"Opis",name:"description",labelOnTop:!0,inputRef:n,defaultValue:S.description})),r.a.createElement("div",{className:Fe.a.fromToWrapper},r.a.createElement("label",null,"Przedzia\u0142 czasowy"),r.a.createElement(z,{type:"date",label:"Od*",inputRef:n({required:!0}),name:"from",defaultValue:T}),r.a.createElement(z,{type:"date",label:"Do*",inputRef:n({required:!0}),name:"to",defaultValue:N})))),r.a.createElement("div",{className:Fe.a.errors},l.header&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Nag\u0142\xf3wek jest wymagany"),l.company_name&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Nazwa firmy jest wymagana"),l.slots&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Miejsca s\u0105 wymagane"),l.technologies&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Technologie s\u0105 wymagane"),(l.from||l.to)&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Podaj poprawny przedzia\u0142 czasowy"),l.email&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Adres email jest niepoprawny")))},Ve=Object(o.gql)(D||(D=Object(B.a)(["\n  mutation deletePracticeAnnouncement($id: ID!) {\n    deletePracticeAnnouncement(id: $id)\n  }\n"]))),We=Object(o.gql)(L||(L=Object(B.a)(["\n  mutation confirmPracticeAnnouncement($id: ID!) {\n    confirmPracticeAnnouncement(id: $id) {\n      id\n      header\n    }\n  }\n"]))),Je=function(e){var a=e.id,n=e.header,l=e.slots,c=e.from,i=e.to,u=e.technologies,d=e.description,p=e.accepted,f=e.email,g=e.phone,h=e.company_name,_=e.CompanyId,y=e.announcements,O=e.setAnnouncements,j=e.refetch,k=W().userType,w=Object(t.useState)(!1),S=Object(v.a)(w,2),z=S[0],T=S[1],N=Object(t.useState)(!1),C=Object(v.a)(N,2),M=C[0],$=C[1],x=Object(s.c)(K),A=Object(v.a)(x,1)[0],I=Object(o.useMutation)(We),q=Object(v.a)(I,1)[0],R=Object(o.useMutation)(Ve),P=Object(v.a)(R,1)[0],D=Object(m.b)().enqueueSnackbar,L=function(){var e=Object(E.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P({variables:{id:a}});case 2:e.sent?(D("Usuni\u0119to pomy\u015blnie",{variant:"success"}),T(!1),O(y.filter((function(e){return e.id!==a})))):D("Wyst\u0105pi\u0142 problem",{variant:"error"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(le,{className:qe.a.container},r.a.createElement("h2",null,n),r.a.createElement("span",null,r.a.createElement("span",null,"Nazwa firmy: "),h),r.a.createElement("span",null,r.a.createElement("span",null,"Miejsca:")," ",l),r.a.createElement("span",null,r.a.createElement("span",null,"Od:")," ",ne()(c).format("DD/MM/YYYY")," ",r.a.createElement("span",null,"do: "),ne()(i).format("DD/MM/YYYY")),f&&r.a.createElement("span",null,r.a.createElement("span",null,"Email:")," ",f),g&&r.a.createElement("span",null,r.a.createElement("span",null,"Telefon:")," ",g),r.a.createElement("span",null,r.a.createElement("span",null,"Technologie:")," ",u),_&&_===(null===A||void 0===A?void 0:A.id)&&k===H.company&&r.a.createElement("span",null,r.a.createElement("span",null,"Zatwierdzone:")," ",p?r.a.createElement(ie,null):r.a.createElement(me,null)),r.a.createElement("p",null,d),r.a.createElement("div",{className:qe.a.buttons},k===H.practiceSuperviser&&!1===p&&r.a.createElement("button",{onClick:function(){q({variables:{id:a}}).then((function(e){e&&(D("Zatwierdzono pomy\u015blnie",{variant:"success"}),O(y.map((function(e){return e.id===a?Object(Ae.a)(Object(Ae.a)({},e),{},{accepted:!0}):e}))))}))}},"Zatwierd\u017a"),(k===H.company&&_&&_===(null===A||void 0===A?void 0:A.id)||k===H.practiceSuperviser)&&r.a.createElement("button",{onClick:function(){return $(!0)}},"Edytuj"),(k===H.practiceSuperviser||_&&_===(null===A||void 0===A?void 0:A.id)&&k===H.company)&&r.a.createElement("button",{preset:"red",onClick:function(){return T(!0)}},"Usu\u0144")),z&&r.a.createElement(De,{open:z,setOpenModal:T,onDecline:function(){return T(!1)},onConfirm:L},"Czy na pewno chcesz usun\u0105\u0107 te og\u0142oszenie?",r.a.createElement("br",null),"Tej operacji nie da si\u0119 cofn\u0105\u0107."),M&&r.a.createElement(Ze,{open:M,setOpenModal:$,announcement:{id:a,header:n,slots:l,from:c,to:i,technologies:u,description:d,accepted:p,email:f,phone:g,company_name:h,CompanyId:_},refetch:j}))},He=Object(o.gql)(F||(F=Object(B.a)(["\n  query practiceAnnouncements {\n    practiceAnnouncements {\n      header\n      slots\n      technologies\n      description\n      to\n      from\n      accepted\n      phone\n      email\n      company_name\n    }\n  }\n"]))),Qe=function(){var e=Object(o.useQuery)(He),a=e.loading,n=e.error,l=e.data,c=e.refetch,i=Object(t.useState)(!1),m=Object(v.a)(i,2),s=m[0],u=m[1];return a?r.a.createElement(ye,null):n?"error":r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,{title:"Og\u0142oszenia praktyk"},l.practiceAnnouncements.map((function(e,a){return r.a.createElement(Je,Object.assign({key:a},e))}))),s&&r.a.createElement(Oe,{open:s,setOpenModal:u,refetch:c}))},Ke=Object(o.gql)(U||(U=Object(B.a)(["\n  query meStudent {\n    meStudent {\n      email\n    }\n  }\n"]))),Xe=function(){var e=Object(s.c)(Q),a=Object(v.a)(e,2),n=a[0],l=a[1],c=Object(o.useLazyQuery)(Ke),i=Object(v.a)(c,2),m=i[0],u=i[1],d=u.data,f=(u.loading,u.error,Object(p.g)());return Object(t.useEffect)((function(){n||m()}),[n,m]),Object(t.useEffect)((function(){d&&(d.meStudent||f.push("/logout"),l(d.meStudent))}),[d,l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/"},r.a.createElement(Qe,null)),r.a.createElement(p.b,{path:"/mypractice"},r.a.createElement(xe,null))))};n(559);var ea,aa,na=n(109),ta=function(e){var a=e.children,n=e.userType,t=Object(na.a)(e,["children","userType"]),l=W().userType;return r.a.createElement(p.b,Object.assign({},t,{render:function(e){e.location;return l===n?a:null}}))},ra=function(e){var a=e.children,n=Object(na.a)(e,["children"]),t=W(),l=t.userType,c=t.removeToken,o=t.removeUserType;return r.a.createElement(p.b,Object.assign({},n,{render:function(e){var n=e.location;return l?a:function(e,a,n){return a(),n(),r.a.createElement(p.a,{to:{pathname:"/login",state:{from:e}}})}(n,c,o)}}))},la=Object(o.gql)(ea||(ea=Object(B.a)(["\n  query practiceAnnouncements {\n    practiceAnnouncements {\n      id\n      header\n      slots\n      technologies\n      description\n      to\n      from\n      accepted\n      email\n      phone\n      company_name\n    }\n  }\n"]))),ca=n(116),oa=n.n(ca),ia=Object(o.gql)(aa||(aa=Object(B.a)(["\n  mutation createPracticeAnnouncement(\n    $header: String!\n    $slots: Int!\n    $technologies: String!\n    $description: String\n    $from: Date!\n    $to: Date!\n    $email: String\n    $phone: String\n    $company_name: String\n  ) {\n    createPracticeAnnouncement(\n      header: $header\n      slots: $slots\n      technologies: $technologies\n      description: $description\n      from: $from\n      to: $to\n      phone: $phone\n      email: $email\n      company_name: $company_name\n    ) {\n      header\n      slots\n      description\n      technologies\n      from\n      to\n    }\n  }\n"]))),ma=function(e){var a=Object(g.a)(),n=a.register,l=a.errors,c=a.handleSubmit,i=J(),m=Object(v.a)(i,2),u=m[0],d=m[1],p=Object(o.useMutation)(ia),f=Object(v.a)(p,1)[0],b=Object(t.useState)(!1),E=Object(v.a)(b,2),h=E[0],O=E[1],j=Object(s.d)(K),k=e.setOpenModal,w=e.refetch;return r.a.createElement(Oe,Object.assign({},e,{header:"Dodaj og\u0142oszenie",isLoading:h,buttons:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{preset:"bright",onClick:function(){return k(!1)}},"Zamknij"),r.a.createElement("button",{onClick:c((function(e){var a;O(!0),f({variables:{header:e.header,slots:e.slots?parseInt(e.slots):0,technologies:e.technologies,description:e.description,from:e.from,to:e.to,phone:null!==(a=null===j||void 0===j?void 0:j.phone)&&void 0!==a?a:e.phone,email:j?j.email:e.email,company_name:j?j.name:e.company_name}}).then((function(){O(!1),w(),d("Og\u0142oszenie dodano pomy\u015blnie",{variant:"success"}),k(!1)})).catch((function(e){console.log(e),u(e),O(!1)}))}))},"Dodaj og\u0142oszenie")," ")}),r.a.createElement("div",{className:oa.a.container},r.a.createElement("div",{className:oa.a.content},r.a.createElement("div",{className:oa.a.inputGroup},r.a.createElement(z,{inputRef:n({required:!0}),label:"Nag\u0142\xf3wek*",labelOnTop:!0,name:"header",placeholder:"Praktyki na stanowisku..."}),j?r.a.createElement("div",null,r.a.createElement("label",null,"Nazwa firmy"),r.a.createElement("br",null),r.a.createElement("span",null,j.name)):r.a.createElement(z,{label:"Nazwa firmy*",labelOnTop:!0,inputRef:n({required:!0}),name:"company_name",placeholder:"Example z.o.o"}),r.a.createElement(z,{label:"Miejsca*",type:"number",labelOnTop:!0,inputRef:n({required:!0}),name:"slots",defaultValue:1}),r.a.createElement(z,{label:"Technologie*",labelOnTop:!0,inputRef:n({required:!0}),name:"technologies",placeholder:"Java, C++, c#"}),j?r.a.createElement("div",null,r.a.createElement("label",null,"Email"),r.a.createElement("br",null),r.a.createElement("span",null,j.email)):r.a.createElement(z,{label:"Email",labelOnTop:!0,inputRef:n({validate:function(e){return!e||_.a.isEmail(e)}}),name:"email",placeholder:"jk@example.com"}),(null===j||void 0===j?void 0:j.phone)?r.a.createElement("div",null,r.a.createElement("label",null,"Phone"),r.a.createElement("br",null),r.a.createElement("span",null,j.phone)):r.a.createElement(z,{label:"Telefon",labelOnTop:!0,inputRef:n,name:"phone",placeholder:"678 890 ..."}))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Be,{label:"Opis",name:"description",labelOnTop:!0,inputRef:n})),r.a.createElement("div",{className:oa.a.fromToWrapper},r.a.createElement("label",null,"Przedzia\u0142 czasowy"),r.a.createElement(z,{type:"date",label:"Od*",inputRef:n({required:!0}),name:"from"}),r.a.createElement(z,{type:"date",label:"Do*",inputRef:n({required:!0}),name:"to"})))),r.a.createElement("div",{className:oa.a.errors},l.header&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Nag\u0142\xf3wek jest wymagany"),l.company_name&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Nazwa firmy jest wymagana"),l.slots&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Miejsca s\u0105 wymagane"),l.technologies&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Technologie s\u0105 wymagane"),(l.from||l.to)&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Podaj poprawny przedzia\u0142 czasowy"),l.email&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Adres email jest niepoprawny")))},sa=n(617),ua=n(614),da=n(211),pa=n.n(da),fa=function(e){return r.a.createElement(sa.a,Object.assign({},e,{className:pa.a.tabs}),e.children)};fa.Tab=function(e){return r.a.createElement(ua.a,Object.assign({},e,{className:pa.a.tab}),e.children)};var ba,Ea,va,ga,ha,_a,ya,Oa,ja,ka,wa=fa,Sa=n(212),za=n.n(Sa),Ta=n(616),Na=n(330),Ca=n.n(Na),Ma=function(e){return r.a.createElement(Ta.a,Object.assign({},e,{variant:"outlined",className:Object(S.a)(Ca.a.search,null===e||void 0===e?void 0:e.className),label:"Szukaj"}))},$a=function(e,a){a=a.toLowerCase();var n=e.map((function(e){return String(e).toLowerCase()})),t=!1;return n.forEach((function(e){e.includes(a)&&(t=!0)})),t},xa=function(){var e=Object(o.useQuery)(la),a=e.loading,n=e.error,l=e.data,c=e.refetch,i=Object(t.useState)(!1),m=Object(v.a)(i,2),s=m[0],u=m[1],d=Object(t.useState)(0),p=Object(v.a)(d,2),f=p[0],b=p[1],E=Object(t.useState)([]),g=Object(v.a)(E,2),h=g[0],_=g[1],y=Object(t.useState)(""),O=Object(v.a)(y,2),j=O[0],k=O[1];return Object(t.useEffect)((function(){l&&_(l.practiceAnnouncements)}),[l]),a?r.a.createElement(ye,null):n?"error":r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,{title:"Og\u0142oszenia praktyk",button:r.a.createElement("button",{onClick:function(){return u(!0)}},"Dodaj og\u0142oszenie")},r.a.createElement("div",{className:za.a.tabs},r.a.createElement(wa,{value:f,indicatorColor:"primary",textColor:"primary",onChange:function(e,a){return b(a)}},r.a.createElement(wa.Tab,{label:"Zatwierdzone"}),r.a.createElement(wa.Tab,{label:"Oczekuj\u0105ce"})),r.a.createElement(Ma,{className:za.a.searchInput,value:j,onChange:function(e){return k(e.target.value)}})),h.map((function(e,a){return(0===f&&e.accepted||1===f&&!e.accepted)&&$a([e.email,e.company_name,e.header,e.phone,e.technologies],j)?r.a.createElement(Je,Object.assign({key:a},e,{announcements:h,setAnnouncements:_,refetch:c})):null}))),s&&r.a.createElement(ma,{open:s,setOpenModal:u,refetch:c}))},Aa=Object(o.gql)(ba||(ba=Object(B.a)(["\n  query agreements {\n    agreements {\n      id\n      address\n      city\n      email\n      company_name\n      phone\n      from\n      to\n      accepted\n      Student {\n        id\n        index_number\n        first_name\n        last_name\n        email\n        color\n      }\n      InternshipJournal {\n        id\n        accepted\n      }\n    }\n  }\n"]))),Ia=n(173),qa=n.n(Ia),Ra=n(620),Pa=n(117),Da=n.n(Pa),La=Object(o.gql)(Ea||(Ea=Object(B.a)(["\n  mutation deletePracticeAgreement($id: ID!) {\n    deletePracticeAgreement(id: $id)\n  }\n"]))),Fa=Object(o.gql)(va||(va=Object(B.a)(["\n  mutation confirmPracticeAgreement($id: ID!) {\n    confirmPracticeAgreement(id: $id) {\n      id\n    }\n  }\n"]))),Ua=Object(o.gql)(ga||(ga=Object(B.a)(["\n  mutation confirmJournal($id: ID!) {\n    confirmJournal(id: $id) {\n      id\n    }\n  }\n"]))),Ya=function(e){var a=e.id,n=e.company_name,l=e.city,c=e.address,i=e.email,s=e.phone,u=e.Student,d=e.from,p=e.to,f=(e.color,e.accepted),g=e.agreements,h=e.setAgreements,_=e.InternshipJournal,y=e.refetch,O=(e.className,Object(o.useMutation)(Fa)),j=Object(v.a)(O,1)[0],k=Object(o.useMutation)(La),w=Object(v.a)(k,1)[0],S=Object(o.useMutation)(Ua),z=Object(v.a)(S,1)[0],T=W().token,N=Object(t.useState)(!1),C=Object(v.a)(N,2),M=C[0],$=C[1],x=Object(t.useState)(!1),A=Object(v.a)(x,2),I=A[0],q=A[1],R=Object(m.b)().enqueueSnackbar,P=function(){var e=Object(E.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({variables:{id:a}});case 2:e.sent?(R("Usuni\u0119to pomy\u015blnie",{variant:"success"}),$(!1),h(g.filter((function(e){return e.id!==a})))):R("Wyst\u0105pi\u0142 problem",{variant:"error"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{className:Da.a.container},r.a.createElement("div",{className:Da.a.block},r.a.createElement("div",{className:Da.a.avatar}," ",r.a.createElement(Ra.a,{style:{backgroundColor:u.color}},u.first_name.charAt(0),u.last_name.charAt(0)),r.a.createElement("h2",null,"".concat(u.first_name," ").concat(u.last_name))),r.a.createElement("span",null,r.a.createElement("span",null,"Okres wykonywania praktyki:")," Od"," ",ne()(d).format("DD/MM/YYYY")," do"," ",ne()(p).format("DD/MM/YYYY")),r.a.createElement("span",null,r.a.createElement("span",null,"Numer indeksu: ")," ",u.index_number),r.a.createElement("span",null,r.a.createElement("span",null,"Email:")," ",u.email),r.a.createElement("div",{className:Da.a.buttons},!f&&r.a.createElement("button",{onClick:function(){j({variables:{id:a}}).then((function(e){e&&(R("Zatwierdzono pomy\u015blnie",{variant:"success"}),h(g.map((function(e){return e.id===a?Object(Ae.a)(Object(Ae.a)({},e),{},{accepted:!0}):e}))))}))}},"Zatwierd\u017a"),r.a.createElement("button",{preset:"red",onClick:function(){return $(!0)}},"Usu\u0144"),_&&r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"uploads/".concat(_.id,"/?token=").concat(T)},r.a.createElement("button",{preset:"bright"},"Dziennik")),!_.accepted&&r.a.createElement("button",{onClick:function(){return q(!0)}},"Zatwierd\u017a dziennik")))),r.a.createElement("div",{className:Da.a.block},r.a.createElement("h3",null,"Dane firmy"),r.a.createElement("span",null,r.a.createElement("span",null,"Nazwa firmy: "),n),r.a.createElement("span",null,r.a.createElement("span",null,"Email: "),i),r.a.createElement("span",null,r.a.createElement("span",null,"Telefon: "),s),r.a.createElement("span",null,r.a.createElement("span",null,"Miejscowo\u015b\u0107: "),l),r.a.createElement("span",null,r.a.createElement("span",null,"Adres: "),c),r.a.createElement("br",null),(null===_||void 0===_?void 0:_.accepted)&&r.a.createElement("span",null,"Dziennik zatwierdzony ",r.a.createElement(ie,null)))),M&&r.a.createElement(De,{open:M,setOpenModal:$,onDecline:function(){return $(!1)},onConfirm:P},"Czy na pewno chcesz usun\u0105\u0107 t\u0105 umowe?",r.a.createElement("br",null),"Tej operacji nie da si\u0119 cofn\u0105\u0107."),I&&r.a.createElement(De,{open:I,setOpenModal:q,onDecline:function(){return q(!1)},onConfirm:function(){z({variables:{id:_.id}}).then((function(e){e&&(q(!1),y())}))}},"Czy na pewno chcesz zatwierdzi\u0107 dziennik?",r.a.createElement("br",null),"Tej operacji nie da si\u0119 cofn\u0105\u0107."))},Ba=function(){var e=W().userType,a=Object(o.useQuery)(Aa),n=a.loading,l=(a.error,a.data),c=a.refetch,i=Object(t.useState)(0),m=Object(v.a)(i,2),s=m[0],u=m[1],d=Object(t.useState)([]),f=Object(v.a)(d,2),b=f[0],E=f[1],g=Object(t.useState)(""),h=Object(v.a)(g,2),_=h[0],y=h[1];Object(t.useEffect)((function(){l&&E(l.agreements)}),[l]);var O=function(e){return r.a.createElement(r.a.Fragment,null,b.map((function(a){return $a([a.Student.index_number,a.Student.first_name,a.Student.last_name,a.company_name,a.email,a.Student.email],_)?(e?a.accepted:!a.accepted)&&r.a.createElement(Ya,Object.assign({key:a.id},a,{agreements:b,setAgreements:E,refetch:c})):null})))};return n?r.a.createElement(ye,null):e!==H.practiceSuperviser?r.a.createElement(p.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,{title:"Umowy"},r.a.createElement("div",{className:qa.a.tabs},r.a.createElement(wa,{value:s,indicatorColor:"primary",textColor:"primary",onChange:function(e,a){return u(a)}},r.a.createElement(wa.Tab,{label:"Zatwierdzone"}),r.a.createElement(wa.Tab,{label:"Oczekuj\u0105ce"})),r.a.createElement(Ma,{className:qa.a.searchInput,value:_,onChange:function(e){return y(e.target.value)}})),r.a.createElement("div",{className:qa.a.agreements},0===s&&O(!0),1===s&&O(!1))))},Ga=n(213),Za=n.n(Ga),Va=function(e){var a=e.first_name,n=e.last_name,t=e.index_number,l=e.email,c=e.color;return r.a.createElement(le,{className:Za.a.container},r.a.createElement("div",{className:Za.a.avatar},r.a.createElement(Ra.a,{style:{backgroundColor:c}},a.charAt(0),n.charAt(0)),r.a.createElement("h3",null,"".concat(a," ").concat(n))),r.a.createElement("span",null,r.a.createElement("span",null,"Email:")," ",l),r.a.createElement("span",null,r.a.createElement("span",null,"Numer indeksu:")," ",t))},Wa=n(331),Ja=n.n(Wa),Ha=Object(o.gql)(ha||(ha=Object(B.a)(["\n  query students {\n    students {\n      id\n      index_number\n      email\n      first_name\n      last_name\n      color\n    }\n  }\n"]))),Qa=function(e){var a=e.search,n=Object(o.useQuery)(Ha),t=n.loading,l=n.error,c=n.data;return t?r.a.createElement(ye,null):l?"error":r.a.createElement("div",{className:Ja.a.studentsList},c.students.map((function(e){var n=e.first_name,t=e.last_name,l=e.email,c=e.index_number,o=e.color,i=e.id;return $a([n,t,l,c],a)?r.a.createElement(Va,{key:i,first_name:n,last_name:t,email:l,index_number:c,color:o}):null})))},Ka=n(214),Xa=n.n(Ka),en=n(332),an=n.n(en),nn=function(e){var a=e.children,n=e.color;return r.a.createElement("div",{className:an.a.companyAvatar,style:{backgroundColor:n}},a)},tn=function(e){e.id;var a=e.name,n=e.city,t=e.address,l=e.email,c=e.first_name,o=e.last_name,i=e.color;return r.a.createElement(le,{className:Xa.a.container},r.a.createElement("div",{className:Xa.a.avatar},r.a.createElement(nn,{color:i},a.charAt(0),"-",c.charAt(0),o.charAt(0)),r.a.createElement("h3",null,a)),r.a.createElement("span",null,r.a.createElement("span",null,"Przedstawiciel:")," ","".concat(c," ").concat(o)),r.a.createElement("span",null,r.a.createElement("span",null,"Email:")," ",l),r.a.createElement("span",null,r.a.createElement("span",null,"Miejscowo\u015b\u0107:")," ",n),r.a.createElement("span",null,r.a.createElement("span",null,"Adres:")," ",t))},rn=n(333),ln=n.n(rn),cn=Object(o.gql)(_a||(_a=Object(B.a)(["\n  query companies {\n    companies {\n      id\n      name\n      city\n      address\n      email\n      first_name\n      last_name\n      color\n    }\n  }\n"]))),on=function(e){var a=e.search,n=Object(o.useQuery)(cn),t=n.loading,l=n.error,c=n.data;return t?r.a.createElement(ye,null):l?"error":r.a.createElement("div",{className:ln.a.companiesList},c.companies.map((function(e){var n=e.id,t=e.name,l=e.city,c=e.address,o=e.email,i=e.first_name,m=e.last_name,s=e.color;return $a([t,o,i,m],a)?r.a.createElement(tn,{key:n,first_name:i,last_name:m,email:o,address:c,city:l,name:t,color:s}):null})))},mn=n(215),sn=n.n(mn),un=n(137),dn=n.n(un),pn=Object(o.gql)(ya||(ya=Object(B.a)(["\n  mutation createInvite($email: String!, $userType: String!) {\n    createInvite(email: $email, userType: $userType) {\n      email\n      userType\n    }\n  }\n"]))),fn=function(e){var a=Object(g.a)(),n=a.register,l=a.errors,c=a.handleSubmit,i=J(),m=Object(v.a)(i,2),s=m[0],u=m[1],d=Object(o.useMutation)(pn),p=Object(v.a)(d,1)[0],f=Object(t.useState)(!1),b=Object(v.a)(f,2),E=b[0],h=b[1],O=e.setOpenModal;return r.a.createElement(Oe,Object.assign({},e,{header:"Dodaj u\u017cytkownika",isLoading:E,buttons:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{preset:"bright",onClick:function(){return O(!1)}},"Zamknij"),r.a.createElement("button",{onClick:c((function(e){h(!0),p({variables:{email:e.email,userType:e.userType}}).then((function(e){e&&u("Zaproszenie wys\u0142ano pomy\u015blnie",{variant:"success"}),h(!1),O(!1)})).catch((function(e){s(e),h(!1)}))}))},"Wy\u015blij zaproszenie"))}),r.a.createElement("div",{className:dn.a.container},r.a.createElement("div",{className:dn.a.content},r.a.createElement("div",{className:dn.a.inputGroup},r.a.createElement(C,{inputRef:n,options:[{label:"Student",value:H.student},{label:"Opiekun praktyk",value:H.practiceSuperviser},{label:"Firma",value:H.company}],label:"Typ u\u017cytkownika*",name:"userType",labelOnTop:!0}),r.a.createElement(z,{inputRef:n({required:!0,validate:_.a.isEmail}),label:"Adres email*",labelOnTop:!0,name:"email",placeholder:"jk@example.com"})))),r.a.createElement("div",{className:dn.a.errors},l.email&&r.a.createElement(y.a,{variant:"filled",severity:"error"},"Adres email jest niepoprawny")))},bn=function(){var e=W().userType,a=Object(t.useState)(!1),n=Object(v.a)(a,2),l=n[0],c=n[1],o=Object(t.useState)(""),i=Object(v.a)(o,2),m=i[0],s=i[1],u=Object(t.useState)(0),d=Object(v.a)(u,2),f=d[0],b=d[1];return e!==H.practiceSuperviser?r.a.createElement(p.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,{title:"U\u017cytkownicy",button:r.a.createElement("button",{onClick:function(){return c(!0)}},"Dodaj u\u017cytkownika")},r.a.createElement("div",{className:sn.a.tabs},r.a.createElement(wa,{value:f,indicatorColor:"primary",textColor:"primary",onChange:function(e,a){return b(a)}},r.a.createElement(wa.Tab,{label:"Studenci"}),r.a.createElement(wa.Tab,{label:"Firmy"})),r.a.createElement(Ma,{className:sn.a.searchInput,value:m,onChange:function(e){return s(e.target.value)}})),0===f&&r.a.createElement(Qa,{search:m}),1===f&&r.a.createElement(on,{search:m})),l&&r.a.createElement(fn,{open:l,setOpenModal:c}))},En=Object(o.gql)(Oa||(Oa=Object(B.a)(["\n  query mePracticeSuperviser {\n    mePracticeSuperviser {\n      email\n    }\n  }\n"]))),vn=function(){var e=Object(p.g)(),a=Object(s.c)(X),n=Object(v.a)(a,2),l=n[0],c=n[1],i=Object(o.useLazyQuery)(En),m=Object(v.a)(i,2),u=m[0],d=m[1].data;return Object(t.useEffect)((function(){l||u()}),[l,u]),Object(t.useEffect)((function(){d&&(d.mePracticeSuperviser||e.push("/logout"),c(d.mePracticeSuperviser))}),[d,c]),r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/"},r.a.createElement(xa,null)),r.a.createElement(p.b,{exact:!0,path:"/users"},r.a.createElement(bn,null)),r.a.createElement(p.b,{exact:!0,path:"/agreements"},r.a.createElement(Ba,null))))},gn=(n(561),Object(o.gql)(ja||(ja=Object(B.a)(["\n  query practiceAnnouncements {\n    practiceAnnouncements {\n      id\n      header\n      slots\n      technologies\n      description\n      to\n      from\n      accepted\n      phone\n      email\n      company_name\n      CompanyId\n    }\n  }\n"])))),hn=n(334),_n=n.n(hn),yn=function(){var e=Object(o.useQuery)(gn),a=e.loading,n=e.error,l=e.data,c=e.refetch,i=Object(t.useState)(!1),m=Object(v.a)(i,2),u=m[0],d=m[1],p=Object(t.useState)([]),f=Object(v.a)(p,2),b=f[0],E=f[1],g=Object(t.useState)(0),h=Object(v.a)(g,2),_=h[0],y=h[1],O=Object(s.c)(K),j=Object(v.a)(O,1)[0];return Object(t.useEffect)((function(){l&&E(l.practiceAnnouncements)}),[l]),a?r.a.createElement(ye,null):n?"error":r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,{title:"Og\u0142oszenia praktyk",button:r.a.createElement("button",{onClick:function(){return d(!0)}},"Dodaj og\u0142oszenie")},r.a.createElement("div",{className:_n.a.tabs},r.a.createElement(wa,{value:_,indicatorColor:"primary",textColor:"primary",onChange:function(e,a){return y(a)}},r.a.createElement(wa.Tab,{label:"Wszystkie og\u0142oszenia"}),r.a.createElement(wa.Tab,{label:"Moje og\u0142oszenia"}))),b.map((function(e,a){return 0===_||1===_&&(null===j||void 0===j?void 0:j.id)===e.CompanyId?r.a.createElement(Je,Object.assign({refetch:c,key:a},e,{announcements:b,setAnnouncements:E})):null}))),u&&r.a.createElement(ma,{open:u,setOpenModal:d,refetch:c}))},On=Object(o.gql)(ka||(ka=Object(B.a)(["\n  query meCompany {\n    meCompany {\n      id\n      email\n      phone\n      name\n    }\n  }\n"]))),jn=function(){var e=Object(s.c)(K),a=Object(v.a)(e,2),n=a[0],l=a[1],c=Object(o.useLazyQuery)(On),i=Object(v.a)(c,2),m=i[0],u=i[1].data,d=Object(p.g)();return Object(t.useEffect)((function(){n||m()}),[n,m]),Object(t.useEffect)((function(){u&&(u.meCompany||d.push("/logout"),l(u.meCompany))}),[u,l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/"},r.a.createElement(yn,null))))},kn=n(118),wn=n.n(kn),Sn=(n(562),n(337)),zn=n(621),Tn=r.a.forwardRef((function(e,a){var n=e.onClick,t=e.children;return r.a.createElement(zn.a,{onClick:n},t)})),Nn=r.a.forwardRef((function(e,a){var n=e.children,t=e.closeMenu;return r.a.createElement(Sn.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:t,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},n)}));Nn.Item=Tn;var Cn,Mn,$n,xn,An=function(){var e=function(){var e=Object(t.useState)(null),a=Object(v.a)(e,2),n=a[0],r=a[1];return[n,function(e){r(e.currentTarget)},function(){r(null)}]}(),a=Object(v.a)(e,3),n=a[0],l=a[1],c=a[2],o=Object(s.c)(X),i=Object(v.a)(o,1)[0],m=Object(s.c)(K),u=Object(v.a)(m,1)[0],f=Object(s.c)(Q),b=Object(v.a)(f,1)[0],E=Object(p.g)();return r.a.createElement("div",{className:wn.a.container},r.a.createElement("div",null,r.a.createElement(d.b,{to:"/",className:wn.a.logo},r.a.createElement(Y,null)),r.a.createElement("div",{className:wn.a.menu},r.a.createElement(d.b,{to:"/"},"Og\u0142oszenia praktyk"),i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{to:"/users"},"U\u017cytkownicy"),r.a.createElement(d.b,{to:"/agreements"},"Umowy")),b&&r.a.createElement(d.b,{to:"/mypractice"},"Moja praktyka"))),r.a.createElement("div",{className:wn.a.menu},r.a.createElement("a",{onClick:l,className:wn.a.user},i&&i.email,u&&u.email,b&&b.email),r.a.createElement(Nn,{ref:n,closeMenu:c},r.a.createElement(Nn.Item,{onClick:function(){c(),E.push("/logout")}},"Wyloguj"))))},In=function(e){var a=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(An,null),a)},qn=n(335),Rn=Object(qn.withApollo)((function(e){var a=e.client;return localStorage.removeItem("token"),localStorage.removeItem("userType"),a.clearStore(),r.a.createElement(p.a,{to:"/login",push:!0})})),Pn=n(119),Dn=n.n(Pn),Ln=Object(o.gql)(Cn||(Cn=Object(B.a)(["\n  mutation confirmInvitationToken($token: String!) {\n    confirmInvitationToken(token: $token) {\n      email\n      userType\n    }\n  }\n"]))),Fn=Object(o.gql)(Mn||(Mn=Object(B.a)(["\n  mutation registerCompany(\n    $token: String!\n    $first_name: String!\n    $last_name: String!\n    $password: String!\n    $name: String!\n    $city: String!\n    $address: String!\n    $phone: String\n    $confirm_password: String!\n  ) {\n    registerCompany(\n      token: $token\n      first_name: $first_name\n      last_name: $last_name\n      password: $password\n      name: $name\n      city: $city\n      phone: $phone\n      confirm_password: $confirm_password\n      address: $address\n    ) {\n      token\n      company {\n        id\n        email\n        first_name\n        last_name\n        color\n        name\n        city\n        address\n        phone\n      }\n    }\n  }\n"]))),Un=Object(o.gql)($n||($n=Object(B.a)(["\n  mutation registerStudent(\n    $token: String!\n    $first_name: String!\n    $last_name: String!\n    $password: String!\n    $confirm_password: String!\n    $index_number: Int!\n  ) {\n    registerStudent(\n      token: $token\n      first_name: $first_name\n      last_name: $last_name\n      password: $password\n      confirm_password: $confirm_password\n      index_number: $index_number\n    ) {\n      token\n      student {\n        id\n        email\n        first_name\n        last_name\n        color\n      }\n    }\n  }\n"]))),Yn=Object(o.gql)(xn||(xn=Object(B.a)(["\n  mutation registerPracticeSuperviser(\n    $token: String!\n    $first_name: String!\n    $last_name: String!\n    $password: String!\n    $confirm_password: String!\n  ) {\n    registerPracticeSuperviser(\n      token: $token\n      first_name: $first_name\n      last_name: $last_name\n      password: $password\n      confirm_password: $confirm_password\n    ) {\n      token\n      practiceSuperviser {\n        id\n        email\n        first_name\n        last_name\n        color\n      }\n    }\n  }\n"]))),Bn=n(138),Gn=n.n(Bn),Zn=function(e){var a=e.children,n=e.title,t=e.isLoading,l=Object(p.g)();return r.a.createElement("div",{className:Gn.a.outerContainer},r.a.createElement("div",{className:Gn.a.container},r.a.createElement("div",{className:Gn.a.header},r.a.createElement("h2",null,n),r.a.createElement(Y,{onClick:function(){return l.push("/")}})),r.a.createElement("div",{className:Gn.a.content},r.a.createElement("p",null,a),t&&r.a.createElement(ye,null))))},Vn=function(){var e=Object(p.h)().token,a=Object(p.g)(),n=Object(o.useMutation)(Ln),l=Object(v.a)(n,2),c=l[0],i=l[1].loading,m=Object(t.useState)(!1),s=Object(v.a)(m,2),u=s[0],d=s[1],f=Object(o.useMutation)(Un),b=Object(v.a)(f,1)[0],E=Object(o.useMutation)(Fn),h=Object(v.a)(E,1)[0],_=Object(o.useMutation)(Yn),O=Object(v.a)(_,1)[0],j=Object(t.useState)(null),k=Object(v.a)(j,2),w=k[0],S=k[1],T=Object(t.useState)(!1),N=Object(v.a)(T,2),C=N[0],M=N[1],$=J(),x=Object(v.a)($,2),A=x[0],I=x[1],q=Object(g.a)(),R=q.register,P=q.handleSubmit,D=q.watch,L=q.errors,F=W(),U=F.removeToken,B=F.removeUserType,G=function(){I("Zarejestrowano pomy\u015blnie",{variant:"success"}),M(!0),setTimeout((function(){U(),B(),a.push("/login")}),5e3)};return Object(t.useEffect)((function(){e&&c({variables:{token:e}}).then((function(e){var a=e.data;console.log(a),a.confirmInvitationToken&&S(a.confirmInvitationToken)})).catch((function(e){d(!0),A(e)}))}),[e]),i?r.a.createElement(ye,null):C?r.a.createElement(r.a.Fragment,null,r.a.createElement(Zn,{title:"Zarejestrowano pomy\u015blnie",isLoading:!0},"Zarejestrowano pomy\u015blnie. ",r.a.createElement("br",null),"za chwil\u0119 nast\u0105pi przekierowanie do strony logowania.")):u?r.a.createElement(Zn,{title:"Wyst\u0105pi\u0142 b\u0142\u0105d"},"Link z zaproszeniem wygas\u0142, lub zosta\u0142 wykorzystany, skontaktuj si\u0119 z opiekunem praktyk."):r.a.createElement("div",{className:Dn.a.outerContainer},r.a.createElement("div",{className:Dn.a.container},r.a.createElement("div",{className:Dn.a.header},r.a.createElement("h2",null,"Stw\xf3rz konto"),r.a.createElement(Y,null)),r.a.createElement("div",{className:Dn.a.content},r.a.createElement("div",null,r.a.createElement("label",null,"Adres email"),r.a.createElement("br",null),r.a.createElement("span",null,null===w||void 0===w?void 0:w.email),r.a.createElement(z,{name:"first_name",inputRef:R({required:"Musisz poda\u0107 imi\u0119"}),labelOnTop:!0,label:"Imi\u0119"}),L.first_name&&r.a.createElement(y.a,{variant:"filled",severity:"error"},L.first_name.message),r.a.createElement(z,{name:"last_name",inputRef:R({required:"Musisz poda\u0107 nazwisko"}),labelOnTop:!0,label:"Nazwisko"}),L.last_name&&r.a.createElement(y.a,{variant:"filled",severity:"error"},L.last_name.message),r.a.createElement(z,{name:"password",type:"password",inputRef:R({required:"Musisz poda\u0107 has\u0142o",minLength:{value:8,message:"Has\u0142o musi mie\u0107 przynajmniej 8 znak\xf3w"}}),labelOnTop:!0,label:"Has\u0142o"}),L.password&&r.a.createElement(y.a,{variant:"filled",severity:"error"},L.password.message),r.a.createElement(z,{name:"confirm_password",type:"password",inputRef:R({validate:function(e){return e===D("password")||"Has\u0142a si\u0119 nie zgadzaj\u0105"}}),labelOnTop:!0,label:"Powt\xf3rz has\u0142o"}),L.confirm_password&&r.a.createElement(y.a,{variant:"filled",severity:"error"},L.confirm_password.message)),r.a.createElement("div",null,r.a.createElement("label",null,"Typ konta"),r.a.createElement("br",null),(null===w||void 0===w?void 0:w.userType)===H.student&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Student"),r.a.createElement(z,{name:"index_number",inputRef:R({required:"Musisz poda\u0107 numer indeksu"}),labelOnTop:!0,label:"Numer indeksu*"}),L.index_number&&r.a.createElement(y.a,{variant:"filled",severity:"error"},L.index_number.message)),(null===w||void 0===w?void 0:w.userType)===H.company&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Firma"),r.a.createElement(z,{name:"name",inputRef:R({required:"Musisz poda\u0107 nazw\u0119 firmy"}),labelOnTop:!0,label:"Nazwa firmy*"}),L.name&&r.a.createElement(y.a,{variant:"filled",severity:"error"},L.name.message),r.a.createElement(z,{name:"city",inputRef:R({required:"Musisz poda\u0107 miejscowo\u015b\u0107 i kod pocztowy"}),labelOnTop:!0,label:"Miejscowo\u015b\u0107 i kod pocztowy*"}),L.city&&r.a.createElement(y.a,{variant:"filled",severity:"error"},L.city.message),r.a.createElement(z,{name:"address",inputRef:R({required:"Musisz poda\u0107 adres"}),labelOnTop:!0,label:"Adres*"}),L.address&&r.a.createElement(y.a,{variant:"filled",severity:"error"},L.address.message),r.a.createElement(z,{name:"phone",inputRef:R,labelOnTop:!0,label:"Telefon"})),(null===w||void 0===w?void 0:w.userType)===H.practiceSuperviser&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Opiekun praktyk")))),r.a.createElement("div",{className:Dn.a.footer},r.a.createElement("button",{onClick:P((function(a){if(w)switch(w.userType){case H.student:b({variables:Object(Ae.a)(Object(Ae.a)({},a),{},{index_number:parseInt(a.index_number),token:e})}).then((function(e){e&&G()})).catch((function(e){A(e)}));break;case H.company:h({variables:Object(Ae.a)(Object(Ae.a)({},a),{},{token:e})}).then((function(e){e&&G()})).catch((function(e){A(e)}));break;case H.practiceSuperviser:O({variables:Object(Ae.a)(Object(Ae.a)({},a),{},{token:e})}).then((function(e){e&&G()})).catch((function(e){A(e)}));break;default:console.log("UserType error")}}))},"Stw\xf3rz konto"))))},Wn=(n(563),function(){return r.a.createElement(d.a,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/login"},r.a.createElement(ee,null)),r.a.createElement(p.b,{path:"/logout"},r.a.createElement(Rn,null)),r.a.createElement(p.b,{path:"/invitation/:token"},r.a.createElement(Vn,null)),r.a.createElement(ra,{path:"/"},r.a.createElement(In,null,r.a.createElement(ta,{userType:H.student},r.a.createElement(Xe,null)),r.a.createElement(ta,{userType:H.practiceSuperviser},r.a.createElement(vn,null)),r.a.createElement(ta,{userType:H.company},r.a.createElement(jn,null))))))}),Jn=Object(i.a)((function(e){var a=e.graphQLErrors,n=e.networkError;a&&a.map((function(e){var a=e.message,n=e.locations,t=e.path,r=e.extensions;console.log("[GraphQL error]: Message: ".concat(a,", Location: ").concat(n,", Path: ").concat(t)),"UNAUTHENTICATED"===r.code&&(localStorage.removeItem("token"),localStorage.removeItem("userType"),window.location.reload())})),n&&console.log("[Network error]: ".concat(n))}));console.log("production");var Hn=new o.ApolloLink((function(e,a){var n=localStorage.getItem("token");return e.setContext({headers:{authorization:(null===n||void 0===n?void 0:n.replace(/['"]+/g,""))||""}}),a(e)})),Qn=Object(o.from)([Jn,Hn,Object(u.a)({uri:"https://sep-praca-dyplomowa.herokuapp.com/graphql"})]),Kn=new o.ApolloClient({link:Qn,cache:new o.InMemoryCache});c.a.render(r.a.createElement(s.a,null,r.a.createElement(m.a,{maxSnack:3},r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.ApolloProvider,{client:Kn},r.a.createElement(Wn,null))))),document.getElementById("root"))},91:function(e,a,n){e.exports={container:"Login_container__1nz1X",content:"Login_content__2clW6",form:"Login_form__1zFVh",title:"Login_title__19yIg",logIn:"Login_logIn__1fntK",page:"Login_page__ZL9j9"}}},[[348,1,2]]]);
//# sourceMappingURL=main.62099cae.chunk.js.map